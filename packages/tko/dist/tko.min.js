!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.tko=t()}(this,function(){"use strict";function e(e,t){for(var n=0,r=e.length;n<r;n++)t(e[n],n)}function t(e,t){if("function"==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(e,t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function n(e,t,n){for(var r=0,o=e.length;r<o;r++)if(t.call(n,e[r],r))return e[r];return null}function r(e,n){var r=t(e,n);r>0?e.splice(r,1):0===r&&e.shift()}function o(e){for(var n=[],r=0,o=(e=e||[]).length;r<o;r++)t(n,e[r])<0&&n.push(e[r]);return n}function i(e,t){for(var n=[],r=0,o=(e=e||[]).length;r<o;r++)n.push(t(e[r],r));return n}function u(e,t){for(var n=[],r=0,o=(e=e||[]).length;r<o;r++)t(e[r],r)&&n.push(e[r]);return n}function s(e,t){if(t instanceof Array)e.push.apply(e,t);else for(var n=0,r=t.length;n<r;n++)e.push(t[n]);return e}function a(e,n,r){var o=t("function"==typeof e.peek?e.peek():e,n);o<0?r&&e.push(n):r||e.splice(o,1)}function c(e){for(var t=[],n=0,r=e.length;n<r;n++)t.push(e[n]);return t}function l(e,t,n){if(e.length&&t.length){var r,o,i,u,s;for(r=o=0;(!n||r<n)&&(u=e[o]);++o){for(i=0;s=t[i];++i)if(u.value===s.value){u.moved=s.index,s.moved=u.index,t.splice(i,1),r=i=0;break}r+=i}}}function f(e,t,n){return n="boolean"==typeof n?{dontLimitMoves:n}:n||{},e=e||[],t=t||[],e.length<t.length?d(e,t,Sn,Tn,n):d(t,e,Tn,Sn,n)}function d(e,t,n,r,o){var i,u,s,a,c,f=Math.min,d=Math.max,p=[],h=e.length,g=t.length,y=g-h||1,v=h+g+1;for(i=0;i<=h;i++)for(a=s,p.push(s=[]),c=f(g,i+y),u=d(0,i-1);u<=c;u++)if(u)if(i)if(e[i-1]===t[u-1])s[u]=a[u-1];else{var b=a[u]||v,m=s[u-1]||v;s[u]=f(b,m)+1}else s[u]=u+1;else s[u]=i+1;var A,D=[],C=[],E=[];for(i=h,u=g;i||u;)A=p[i][u]-1,u&&A===p[i][u-1]?C.push(D[D.length]={status:n,value:t[--u],index:u}):i&&A===p[i-1][u]?E.push(D[D.length]={status:r,value:e[--i],index:i}):(--u,--i,o.sparse||D.push({status:"retained",value:t[u]}));return l(E,C,!o.dontLimitMoves&&10*h),D.reverse()}function p(e){return kn.onError?function(){try{return e.apply(this,arguments)}catch(e){kn.onError(e)}}:e}function h(e){g(function(){kn.onError(e)},0)}function g(e,t){return setTimeout(p(e),t)}function y(e,t){var n;return function(){n||(n=g(function(){n=void 0,e()},t))}}function v(e,t){var n;return function(){clearTimeout(n),n=g(e,t)}}function b(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function m(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}function A(e,t){if(!e)return e;var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r],r,e));return n}function D(e,t){return e.hasOwnProperty(t)?e[t]:void 0}function C(e,t){if(t||(t=[]),!e||"object"!=typeof e||e.constructor!==Object||-1!==t.indexOf(e))return e;t.push(e);var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=C(e[r],t));return n}function E(e,t){return e.__proto__=t,e}function F(e,t){return null!==e&&void 0!==e&&void 0!==e[Ln]&&(e[Ln]===t||F(e[Ln],t))}function B(e){return null===e||void 0===e?"":e.trim?e.trim():e.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")}function w(e,t){return e=e||"",!(t.length>e.length)&&e.substring(0,t.length)===t}function _(e,t,n){if(!JSON||!JSON.stringify)throw new Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");return JSON.stringify("function"==typeof e?e():e,t,n)}function x(e){return Un?Symbol(e):e}function O(t,n,r){var o;n&&("object"==typeof t.classList?(o=t.classList[r?"add":"remove"],e(n.match(Qn),function(e){o.call(t.classList,e)})):"string"==typeof t.className.baseVal?N(t.className,"baseVal",n,r):N(t,"className",n,r))}function N(t,n,r,o){var i=t[n].match(Qn)||[];e(r.match(Qn),function(e){a(i,e,o)}),t[n]=i.join(" ")}function S(e,t){if(e===t)return!0;if(11===e.nodeType)return!1;if(t.contains)return t.contains(1!==e.nodeType?e.parentNode:e);if(t.compareDocumentPosition)return 16==(16&t.compareDocumentPosition(e));for(;e&&e!=t;)e=e.parentNode;return!!e}function T(e){return S(e,e.ownerDocument.documentElement)}function k(e){return!!n(e,T)}function P(e){return e&&e.tagName&&e.tagName.toLowerCase()}function I(e){return window.HTMLElement?e instanceof HTMLElement:e&&e.tagName&&1===e.nodeType}function j(e){return window.DocumentFragment?e instanceof DocumentFragment:e&&11===e.nodeType}function V(e,t){var n=e[zn];if(!(n&&"null"!==n&&Pn[n])){if(!t)return;n=e[zn]="ko"+qn++,Pn[n]={}}return Pn[n]}function R(){return qn+++zn}function $(e,t){var n=In(e,Jn);return void 0===n&&t&&jn(e,Jn,n=[]),n}function M(e){jn(e,Jn,void 0)}function L(e){var t=$(e,!1);if(t){t=t.slice(0);for(n=0;n<t.length;n++)t[n](e)}Vn(e);for(var n=0,r=Zn.length;n<r;++n)Zn[n](e);Xn[e.nodeType]&&W(e)}function W(e){for(var t,n=e.firstChild;t=n;)n=t.nextSibling,8===t.nodeType&&L(t)}function H(e,t){if("function"!=typeof t)throw new Error("Callback must be a function");$(e,!0).push(t)}function U(e,t){var n=$(e,!1);n&&(r(n,t),0==n.length&&M(e))}function Q(e){if(Yn[e.nodeType]&&(L(e),Xn[e.nodeType])){var t=[];s(t,e.getElementsByTagName("*"));for(var n=0,r=t.length;n<r;n++)L(t[n])}return e}function K(e){Q(e),e.parentNode&&e.parentNode.removeChild(e)}function z(e){var t=Kn?Kn.cleanData:null;t&&t([e])}function q(e,t){if("input"!==P(e)||!e.type)return!1;if("click"!=t.toLowerCase())return!1;var n=e.type;return"checkbox"==n||"radio"==n}function G(e,t,n){var r=p(n),o=Rn&&nr[t];if(kn.useOnlyNativeEvents||o||!Kn)if(o||"function"!=typeof e.addEventListener){if(void 0===e.attachEvent)throw new Error("Browser doesn't support addEventListener or attachEvent");var i=function(t){r.call(e,t)},u="on"+t;e.attachEvent(u,i),H(e,function(){e.detachEvent(u,i)})}else e.addEventListener(t,r,!1);else Kn(e).bind(t,r)}function J(e,t){if(!e||!e.nodeType)throw new Error("element must be a DOM node when calling triggerEvent");var n=q(e,t);if(kn.useOnlyNativeEvents||!Kn||n)if("function"==typeof document.createEvent){if("function"!=typeof e.dispatchEvent)throw new Error("The supplied element doesn't support dispatchEvent");var r=tr[t]||"HTMLEvents",o=document.createEvent(r);o.initEvent(t,!0,!0,kn.global,0,0,0,0,0,!1,!1,!1,!1,0,e),e.dispatchEvent(o)}else if(n&&e.click)e.click();else{if(void 0===e.fireEvent)throw new Error("Browser doesn't support triggering events");e.fireEvent("on"+t)}else Kn(e).trigger(t)}function Y(e,t){if(e.length){for(t=8===t.nodeType&&t.parentNode||t;e.length&&e[0].parentNode!==t;)e.splice(0,1);for(;e.length>1&&e[e.length-1].parentNode!==t;)e.length--;if(e.length>1){var n=e[0],r=e[e.length-1];for(e.length=0;n!==r;)e.push(n),n=n.nextSibling;e.push(r)}}return e}function X(e,t){Rn<7?e.setAttribute("selected",t):e.selected=t}function Z(e){if(Rn>=9){var t=1==e.nodeType?e:e.parentNode;t.style&&(t.style.zoom=t.style.zoom)}}function ee(e){if(Rn){var t=e.style.width;e.style.width=0,e.style.width=t}}function te(e){return 8==e.nodeType&&or.test(rr?e.text:e.nodeValue)}function ne(e){return 8==e.nodeType&&ir.test(rr?e.text:e.nodeValue)}function re(e,t){for(var n=e,r=1,o=[];n=n.nextSibling;){if(ne(n)&&0==--r)return o;o.push(n),te(n)&&r++}if(!t)throw new Error("Cannot find closing comment tag to match: "+e.nodeValue);return null}function oe(e,t){var n=re(e,t);return n?n.length>0?n[n.length-1].nextSibling:e.nextSibling:null}function ie(e){var t=e.firstChild,n=null;if(t)do{if(n)n.push(t);else if(te(t)){var r=oe(t,!0);r?t=r:n=[t]}else ne(t)&&(n=[t])}while(t=t.nextSibling);return n}function ue(e){return te(e)?re(e):e.childNodes}function se(e){if(te(e))for(var t=ue(e),n=0,r=t.length;n<r;n++)K(t[n]);else be(e)}function ae(e,t){if(te(e)){se(e);for(var n=e.nextSibling,r=0,o=t.length;r<o;r++)n.parentNode.insertBefore(t[r],n)}else he(e,t)}function ce(e,t){te(e)?e.parentNode.insertBefore(t,e.nextSibling):e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}function le(e){return te(e)?!e.nextSibling||ne(e.nextSibling)?null:e.nextSibling:e.firstChild}function fe(e){return te(e)&&(e=oe(e)),e.nextSibling&&ne(e.nextSibling)?null:e.nextSibling}function de(e){for(var t=c(e),n=(t[0]&&t[0].ownerDocument||document).createElement("div"),r=0,o=t.length;r<o;r++)n.appendChild(Q(t[r]));return n}function pe(e,t){for(var n=0,r=e.length,o=[];n<r;n++){var i=e[n].cloneNode(!0);o.push(t?Q(i):i)}return o}function he(e,t){if(be(e),t)for(var n=0,r=t.length;n<r;n++)e.appendChild(t[n])}function ge(e,t){var n=e.nodeType?[e]:e;if(n.length>0){for(var r=n[0],o=r.parentNode,i=0,u=t.length;i<u;i++)o.insertBefore(t[i],r);for(i=0,u=n.length;i<u;i++)K(n[i])}}function ye(e,t){if(e.name=t,Rn<=7)try{e.mergeAttributes(document.createElement("<input name='"+e.name+"'/>"),!1)}catch(e){}}function ve(e,t){var n="function"==typeof t?t():t;null!==n&&void 0!==n||(n="");var r=le(e);!r||3!=r.nodeType||fe(r)?ae(e,[e.ownerDocument.createTextNode(n)]):r.data=n,Z(e)}function be(e){for(;e.firstChild;)K(e.firstChild)}function me(e){var t=e.match(/^<([a-z]+)[ >]/);return t&&hr[t[1]]||lr}function Ae(e,t){t||(t=document);var n=t.parentWindow||t.defaultView||window,r=B(e).toLowerCase(),o=t.createElement("div"),i=me(r),u=i[0],s="ignored<div>"+i[1]+e+i[2]+"</div>";for("function"==typeof n.innerShiv?o.appendChild(n.innerShiv(s)):o.innerHTML=s;u--;)o=o.lastChild;return c(o.lastChild.childNodes)}function De(e,t){t||(t=document);var n=t.createElement("template");return n.innerHTML=e,c(n.content.childNodes)}function Ce(e,t){if(Kn.parseHTML)return Kn.parseHTML(e,t)||[];var n=Kn.clean([e],t);if(n&&n[0]){for(var r=n[0];r.parentNode&&11!==r.parentNode.nodeType;)r=r.parentNode;r.parentNode&&r.parentNode.removeChild(r)}return n}function Ee(e,t){return gr?De(e,t):Kn?Ce(e,t):Ae(e,t)}function Fe(e,t){if(be(e),"function"==typeof t&&(t=t()),null!==t&&void 0!==t)if("string"!=typeof t&&(t=t.toString()),Kn&&!gr)Kn(e).html(t);else{var n=Ee(t,e.ownerDocument);if(8===e.nodeType)null===t?se(e):ae(e,n);else for(var r=0;r<n.length;r++)e.appendChild(n[r])}}function Be(){return(4294967296*(1+Math.random())|0).toString(16).substring(1)}function we(){return Be()+Be()}function _e(e,t){if(e)if(8==e.nodeType){var n=Oe(e.nodeValue);null!=n&&t.push({domNode:e,memoId:n})}else if(1==e.nodeType)for(var r=0,o=e.childNodes,i=o.length;r<i;r++)_e(o[r],t)}function xe(e,t){var n=yr[e];if(void 0===n)throw new Error("Couldn't find any memo with ID "+e+". Perhaps it's already been unmemoized.");try{return n.apply(null,t||[]),!0}finally{delete yr[e]}}function Oe(e){var t=e.match(/^\[ko_memo\:(.*?)\]$/);return t?t[1]:null}function Ne(){if(mr)for(var e,t=mr,n=0;Dr<mr;)if(e=br[Dr++]){if(Dr>t){if(++n>=5e3){Dr=mr,h(Error("'Too much recursion' after processing "+n+" task groups."));break}t=mr}try{e()}catch(e){h(e)}}}function Se(){Ne(),Dr=mr=br.length=0}function Te(){kn.taskScheduler(Se)}function ke(e){e._deferUpdates||(e._deferUpdates=!0,e.limit(function(t){var n;return function(){Er.cancel(n),n=Er.schedule(t),e.notifySubscribers(void 0,"dirty")}}))}function Pe(e,t){return!!(null===e||typeof e in Br)&&e===t}function Ie(e,t,n){this._target=e,this.callback=t,this.disposeCallback=n,this.isDisposed=!1}function je(){Hn(this,xr),xr.init(this)}function Ve(e){return null!=e&&"function"==typeof e.subscribe&&"function"==typeof e.notifySubscribers}function Re(){return++Sr}function $e(e){Nr.push(Or),Or=e}function Me(){Or=Nr.pop()}function Le(e){if(Or){if(!Ve(e))throw new Error("Only subscribable things can act as dependencies");Or.callback.call(Or.callbackTarget,e,e._id||(e._id=Re()))}}function We(e,t,n){try{return $e(),e.apply(t,n||[])}finally{Me()}}function He(e){function t(){return arguments.length>0?(t.isDifferent(t[kr],arguments[0])&&(t.valueWillMutate(),t[kr]=arguments[0],t.valueHasMutated()),this):(Le(t),t[kr])}return t[kr]=e,Wn||b(t,je.fn),je.fn.init(t),Hn(t,He.fn),kn.deferUpdates&&ke(t),t}function Ue(e,t){t&&t!==_r?"beforeChange"===t?this._limitBeforeChange(e):this._origNotifySubscribers(e,t):this._limitChange(e)}function Qe(e){return F(e,He)}function Ke(e){return Qe(e)?e():e}function ze(e){return Qe(e)?e.peek():e}function qe(e){return"function"==typeof e&&e[Pr]===He||!("function"!=typeof e||!e.hasWriteFunction)}function Ge(e,t){function n(){if(!i){i=!0;var t=e.notifySubscribers;e.notifySubscribers=function(e,n){return n&&n!==_r||++s,t.apply(this,arguments)};var n=[].concat(e.peek()||[]);u=null,o=e.subscribe(function(t){if(t=[].concat(t||[]),e.hasSubscriptionsForEvent(Ir))var o=r(n,t);n=t,u=null,s=0,o&&o.length&&e.notifySubscribers(o,Ir)})}}function r(t,n){return(!u||s>1)&&(u=Ge.compareArrays(t,n,e.compareArrayOptions)),u}if(e.compareArrayOptions={},t&&"object"==typeof t&&b(e.compareArrayOptions,t),e.compareArrayOptions.sparse=!0,!e.cacheDiffForKnownOperation){var o,i=!1,u=null,s=0,a=e.beforeSubscriptionAdd,c=e.afterSubscriptionRemove;e.beforeSubscriptionAdd=function(t){a&&a.call(e,t),t===Ir&&n()},e.afterSubscriptionRemove=function(t){c&&c.call(e,t),t!==Ir||e.hasSubscriptionsForEvent(Ir)||(o&&o.dispose(),o=null,i=!1)},e.cacheDiffForKnownOperation=function(e,t,n){function r(e,t,n){return c[c.length]={status:e,value:t,index:n}}var o,a;if(i&&!s){var c=[],f=e.length,d=n.length,p=0;switch(t){case"push":p=f;case"unshift":for(o=0;o<d;o++)r("added",n[o],p+o);break;case"pop":p=f-1;case"shift":f&&r("deleted",e[p],p);break;case"splice":var h=Math.min(Math.max(0,n[0]<0?f+n[0]:n[0]),f),g=1===d?f:Math.min(h+(n[1]||0),f),y=h+d-2,v=Math.max(g,y),b=[],m=[];for(o=h,a=2;o<v;++o,++a)o<g&&m.push(r("deleted",e[o],o)),o<y&&b.push(r("added",n[a],o));l(m,b);break;default:return}u=c}}}}function Je(e){if("object"!=typeof(e=e||[])||!("length"in e))throw new Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");var t=He(e);return Hn(t,Je.fn),Ge(t),t}function Ye(e){if(0==arguments.length)throw new Error("When calling ko.toJS, pass the object you want to convert.");return Xe(e,function(e){for(var t=0;Qe(e)&&t<jr;t++)e=e();return e})}function Xe(e,t,n){if(n=n||new et,!!("object"!=typeof(e=t(e))||null===e||void 0===e||e instanceof RegExp||e instanceof Date||e instanceof String||e instanceof Number||e instanceof Boolean))return e;var r=e instanceof Array?[]:{};return n.save(e,r),Ze(e,function(o){var i=t(e[o]);switch(typeof i){case"boolean":case"number":case"string":case"function":r[o]=i;break;case"object":case"undefined":var u=n.get(i);r[o]=void 0!==u?u:Xe(i,t,n)}}),r}function Ze(e,t){if(e instanceof Array){for(var n=0;n<e.length;n++)t(n);"function"==typeof e.toJSON&&t("toJSON")}else for(var r in e)t(r)}function et(){this.keys=[],this.values=[]}function tt(e,t,n){function r(){if(arguments.length>0){if("function"!=typeof o)throw new Error("Cannot write a value to a computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");return o.apply(i.evaluatorFunctionTarget,arguments),this}return Tr.registerDependency(r),(i.isStale||i.isSleeping&&r.haveDependenciesChanged())&&r.evaluateImmediate(),i.latestValue}if("object"==typeof e?n=e:(n=n||{},e&&(n.read=e)),"function"!=typeof n.read)throw Error("Pass a function that returns the value of the computed");var o=n.write,i={latestValue:void 0,isStale:!0,isBeingEvaluated:!1,suppressDisposalUntilDisposeWhenReturnsFalse:!1,isDisposed:!1,pure:!1,isSleeping:!1,readFunction:n.read,evaluatorFunctionTarget:t||n.owner,disposeWhenNodeIsRemoved:n.disposeWhenNodeIsRemoved||n.disposeWhenNodeIsRemoved||null,disposeWhen:n.disposeWhen||n.disposeWhen,domNodeDisposalCallback:null,dependencyTracking:{},dependenciesCount:0,evaluationTimeoutInstance:null};return r[Vr]=i,r.hasWriteFunction="function"==typeof o,Wn||b(r,je.fn),je.fn.init(r),Hn(r,tt.fn),n.pure?(i.pure=!0,i.isSleeping=!0,b(r,Rr)):n.deferEvaluation&&b(r,$r),kn.deferUpdates&&wr.deferred(r,!0),kn.debug&&(r._options=n),i.disposeWhenNodeIsRemoved&&(i.suppressDisposalUntilDisposeWhenReturnsFalse=!0,i.disposeWhenNodeIsRemoved.nodeType||(i.disposeWhenNodeIsRemoved=null)),i.isSleeping||n.deferEvaluation||r.evaluateImmediate(),i.disposeWhenNodeIsRemoved&&r.isActive()&&H(i.disposeWhenNodeIsRemoved,i.domNodeDisposalCallback=function(){r.dispose()}),r}function nt(e,t){null!==t&&t.dispose&&t.dispose()}function rt(e,t){var n=this.computedObservable,r=n[Vr];r.isDisposed||(this.disposalCount&&this.disposalCandidates[t]?(n.addDependencyTracking(t,e,this.disposalCandidates[t]),this.disposalCandidates[t]=null,--this.disposalCount):r.dependencyTracking[t]||n.addDependencyTracking(t,e,r.isSleeping?{_target:e}:n.subscribeToDependency(e)))}function ot(e,t){return"function"==typeof e?tt(e,t,{pure:!0}):(e=b({},e),e.pure=!0,tt(e,t))}function it(){}function ut(e){var t=B(e);123===t.charCodeAt(0)&&(t=t.slice(1,-1));var n,r=[],o=t.match(Xr),i=[],u=0;if(!o)return[];o.push(",");for(var s,a=0;s=o[a];++a){var c=s.charCodeAt(0);if(44===c){if(u<=0){r.push(n&&i.length?{key:n,value:i.join("")}:{unknown:n||i.join("")}),n=u=0,i=[];continue}}else if(58===c){if(!u&&!n&&1===i.length){n=i.pop();continue}}else if(47===c&&a&&s.length>1){var l=o[a-1].match(Zr);l&&!eo[l[0]]&&((o=(t=t.substr(t.indexOf(s)+1)).match(Xr)).push(","),a=-1,s="/")}else 40===c||123===c||91===c?++u:41===c||125===c||93===c?--u:n||i.length||34!==c&&39!==c||(s=s.slice(1,-1));i.push(s)}return r}function st(e,t){function n(){this.constructor=e}ro(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function at(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,i&&(u=i[2&n[0]?"return":n[0]?"throw":"next"])&&!(u=u.call(i,n[1])).done)return u;switch(i=0,u&&(n=[0,u.value]),n[0]){case 0:case 1:u=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,i=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(u=a.trys,!(u=u.length>0&&u[u.length-1])&&(6===n[0]||2===n[0])){a=0;continue}if(3===n[0]&&(!u||n[1]>u[0]&&n[1]<u[3])){a.label=n[1];break}if(6===n[0]&&a.label<u[1]){a.label=u[1],u=n;break}if(u&&a.label<u[2]){a.label=u[2],a.ops.push(n);break}u[2]&&a.ops.pop(),a.trys.pop();continue}n=t.call(e,a)}catch(e){n=[6,e],i=0}finally{o=u=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,i,u,s,a={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s}function ct(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function lt(e,t){function n(){this.constructor=e}io(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function ft(e,t){function n(){this.constructor=e}so(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function dt(e,t){var n,r=D(po,e);r?r.subscribe(t):((r=po[e]=new je).subscribe(t),pt(e,function(t,o){var i=!(!o||!o.synchronous);ho[e]={definition:t,isSynchronousComponent:i},delete po[e],n||i?r.notifySubscribers(t):Er.schedule(function(){r.notifySubscribers(t)})}),n=!0)}function pt(e,t){ht("getConfig",[e],function(n){n?ht("loadComponent",[e,n],function(e){t(e,n)}):t(null,null)})}function ht(e,t,n,r){r||(r=go.loaders.slice(0));var o=r.shift();if(o){var i=o[e];if(i){var u=!1;if(void 0!==i.apply(o,t.concat(function(o){u?n(null):null!==o?n(o):ht(e,t,n,r)}))&&(u=!0,!o.suppressLoaderExceptions))throw new Error("Component loaders must supply values by invoking the callback, not by returning values synchronously.")}else ht(e,t,n,r)}else n(null)}function gt(e,t){function n(){this.constructor=e}yo(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function yt(e,t){if(!t)throw new Error("Invalid configuration for "+e);if(vt(e))throw new Error("Component "+e+" is already registered");vo[e]=t}function vt(e){return vo.hasOwnProperty(e)}function bt(e,t,n,r){var o={},i=2,u=function(){0==--i&&r(o)},s=n.template,a=n.viewModel;s?Ct(t,s,function(t){go._getFirstResultFromLoaders("loadTemplate",[e,t],function(e){o.template=e,u()})}):u(),a?Ct(t,a,function(t){go._getFirstResultFromLoaders("loadViewModel",[e,t],function(e){o[mo]=e,u()})}):u()}function mt(e,t,n){if("string"==typeof t)n(Ee(t));else if(t instanceof Array)n(t);else if(j(t))n(c(t.childNodes));else if(t.element){var r=t.element;if(I(r))n(Dt(r));else if("string"==typeof r){var o=document.getElementById(r);o?n(Dt(o)):e("Cannot find element with ID "+r)}else e("Unknown element type: "+r)}else e("Unknown template value: "+t)}function At(e,t,n){if("function"==typeof t)n(function(e){return new t(e)});else if("function"==typeof t[mo])n(t[mo]);else if("instance"in t){var r=t.instance;n(function(){return r})}else"viewModel"in t?At(e,t.viewModel,n):e("Unknown viewModel value: "+t)}function Dt(e){switch(P(e)){case"script":return Ee(e.text);case"textarea":return Ee(e.value);case"template":if(j(e.content))return pe(e.content.childNodes)}return pe(e.childNodes)}function Ct(e,t,n){"string"==typeof t.require?window.amdRequire||window.require?(window.amdRequire||window.require)([t.require],n):e("Uses require, but no AMD loader is present"):n(t)}function Et(e){return function(t){throw new Error("Component '"+e+"': "+t)}}function Ft(e,t){function n(){this.constructor=e}Do(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function Bt(e,t){function n(){this.constructor=e}Eo(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function wt(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,i&&(u=i[2&n[0]?"return":n[0]?"throw":"next"])&&!(u=u.call(i,n[1])).done)return u;switch(i=0,u&&(n=[0,u.value]),n[0]){case 0:case 1:u=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,i=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(u=a.trys,!(u=u.length>0&&u[u.length-1])&&(6===n[0]||2===n[0])){a=0;continue}if(3===n[0]&&(!u||n[1]>u[0]&&n[1]<u[3])){a.label=n[1];break}if(6===n[0]&&a.label<u[1]){a.label=u[1],u=n;break}if(u&&a.label<u[2]){a.label=u[2],a.ops.push(n);break}u[2]&&a.ops.pop(),a.trys.pop();continue}n=t.call(e,a)}catch(e){n=[6,e],i=0}finally{o=u=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,i,u,s,a={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s}function _t(e,t){function n(){this.constructor=e}Bo(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function xt(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,i&&(u=i[2&n[0]?"return":n[0]?"throw":"next"])&&!(u=u.call(i,n[1])).done)return u;switch(i=0,u&&(n=[0,u.value]),n[0]){case 0:case 1:u=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,i=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(u=a.trys,!(u=u.length>0&&u[u.length-1])&&(6===n[0]||2===n[0])){a=0;continue}if(3===n[0]&&(!u||n[1]>u[0]&&n[1]<u[3])){a.label=n[1];break}if(6===n[0]&&a.label<u[1]){a.label=u[1],u=n;break}if(u&&a.label<u[2]){a.label=u[2],a.ops.push(n);break}u[2]&&a.ops.pop(),a.trys.pop();continue}n=t.call(e,a)}catch(e){n=[6,e],i=0}finally{o=u=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,i,u,s,a={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s}function Ot(e,t){function n(){this.constructor=e}_o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function Nt(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,i&&(u=i[2&n[0]?"return":n[0]?"throw":"next"])&&!(u=u.call(i,n[1])).done)return u;switch(i=0,u&&(n=[0,u.value]),n[0]){case 0:case 1:u=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,i=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(u=a.trys,!(u=u.length>0&&u[u.length-1])&&(6===n[0]||2===n[0])){a=0;continue}if(3===n[0]&&(!u||n[1]>u[0]&&n[1]<u[3])){a.label=n[1];break}if(6===n[0]&&a.label<u[1]){a.label=u[1],u=n;break}if(u&&a.label<u[2]){a.label=u[2],a.ops.push(n);break}u[2]&&a.ops.pop(),a.trys.pop();continue}n=t.call(e,a)}catch(e){n=[6,e],i=0}finally{o=u=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,i,u,s,a={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s}function St(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function Tt(e){var t,n,r,o,i;return Nt(this,function(u){switch(u.label){case 0:return(t=e.match(xo))?(n=t.slice(1),r=n[0],o=n[1],i=n[2],[5,St(Tt(r))]):[3,4];case 1:return u.sent(),[4,new ko(o)];case 2:return u.sent(),[4,new To(i)];case 3:return u.sent(),[3,6];case 4:return[4,new To(e)];case 5:u.sent(),u.label=6;case 6:return[2]}})}function kt(e){var t,n,r,o;return Nt(this,function(i){switch(i.label){case 0:return e?(t=e.slice(1),n=t[0],r=t[1],o=t[2],[4,new ko(n)]):[2];case 1:return i.sent(),[5,St(Tt(r))];case 2:return i.sent(),[4,new ko(o)];case 3:return i.sent(),[2]}})}function Pt(e){var t,n,r;return Nt(this,function(o){switch(o.label){case 0:t=0,n=kt(e.match(Oo)),o.label=1;case 1:return t<n.length?(r=n[t]).text?[4,r]:[3,3]:[3,4];case 2:o.sent(),o.label=3;case 3:return t++,[3,1];case 4:return[2]}})}function It(e,t,n,o,i){function u(){var r=l?e():e,i=Ke(r);return t?(t._subscribable&&t._subscribable(),b(c,t),c._subscribable=a):(c.$parents=[],c.$root=i,c.ko=kn.knockoutInstance),c.$rawData=r,c.$data=i,n&&(c[n]=i),o&&o(c,t,i),c.$data}var s,a,c=this,l="function"==typeof e&&!Qe(e);i&&i.exportDependencies?u():(a=tt(u,null,{disposeWhen:function(){return s&&!k(s)},disposeWhenNodeIsRemoved:!0})).isActive()&&(c._subscribable=a,a.equalityComparer=null,s=[],a._addNode=function(e){s.push(e),H(e,function(e){r(s,e),s.length||(a.dispose(),c._subscribable=a=void 0)})})}function jt(e,t){if(2!=arguments.length)return Gn.get(e,Vo);Gn.set(e,Vo,t),t._subscribable&&t._subscribable._addNode(e)}function Vt(e){switch(e.nodeType){case 1:case 8:var t=jt(e);if(t)return t;if(e.parentNode)return Vt(e.parentNode)}}function Rt(e,t){function n(){this.constructor=e}Ro(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function $t(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,i&&(u=i[2&n[0]?"return":n[0]?"throw":"next"])&&!(u=u.call(i,n[1])).done)return u;switch(i=0,u&&(n=[0,u.value]),n[0]){case 0:case 1:u=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,i=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(u=a.trys,!(u=u.length>0&&u[u.length-1])&&(6===n[0]||2===n[0])){a=0;continue}if(3===n[0]&&(!u||n[1]>u[0]&&n[1]<u[3])){a.label=n[1];break}if(6===n[0]&&a.label<u[1]){a.label=u[1],u=n;break}if(u&&a.label<u[2]){a.label=u[2],a.ops.push(n);break}u[2]&&a.ops.pop(),a.trys.pop();continue}n=t.call(e,a)}catch(e){n=[6,e],i=0}finally{o=u=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,i,u,s,a={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s}function Mt(e){var t=kn.bindingProviderInstance.bindingHandlers.get(e);if(t)return t.isBindingHandlerClass?t:Wo.getOrCreateFor(e,t)}function Lt(e){return function(){return e}}function Wt(e){return e()}function Ht(e){return A(Tr.ignore(e),function(t,n){return function(){return e()[n]}})}function Ut(e,t,n){return"function"==typeof e?Ht(e.bind(null,t,n)):A(e,Lt)}function Qt(e,t){return Ht(this.getBindings.bind(this,e,t))}function Kt(e,t,n,r){var o,i=cr.firstChild(t),u=kn.bindingProviderInstance,s=u.preprocessNode;if(s){for(;o=i;)i=cr.nextSibling(o),s.call(u,o);i=cr.firstChild(t)}for(;o=i;)i=cr.nextSibling(o),qt(e,o,n,r)}function zt(e){var t=kn.bindingProviderInstance;return t.FOR_NODE_TYPES.includes(e.nodeType)&&t.nodeHasBindings(e)}function qt(e,t,n,r){var o=1===t.nodeType;o&&cr.normaliseVirtualElementDomStructure(t),(o&&n||zt(t)?Jt(t,null,e,n,r):{shouldBindDescendants:!0}).shouldBindDescendants&&!Ho[P(t)]&&Kt(e,t,!o,r)}function Gt(n){var r,o,i,u,s,a;return $t(this,function(c){switch(c.label){case 0:r=[],o={},i=[],m(n,function u(s){if(!o[s]){var a=Mt(s);if(!a)return;a.after&&(i.push(s),e(a.after,function(e){if(n[e]){if(-1!==t(i,e))throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+i.join(", "));u(e)}}),i.length--),r.push([s,a])}o[s]=!0}),u=0,s=r,c.label=1;case 1:return u<s.length?(a=s[u],[4,a]):[3,4];case 2:c.sent(),c.label=3;case 3:return u++,[3,1];case 4:return[2]}})}function Jt(e,t,n,r,o){var i=Gn.get(e,Uo);if(!t){if(i)return tn({during:"apply",errorCaptured:new Error("You cannot apply bindings multiple times to the same element."),element:e,bindingContext:n}),!1;Gn.set(e,Uo,!0)}!i&&r&&jt(e,n);var u;if(t&&"function"!=typeof t)u=t;else{var s=kn.bindingProviderInstance,a=s.getBindingAccessors||Qt;if(s.FOR_NODE_TYPES.includes(e.nodeType)){var c=tt(function(){return(u=t?t(n,e):a.call(s,e,n))&&n._subscribable&&n._subscribable(),u},null,{disposeWhenNodeIsRemoved:e});u&&c.isActive()||(c=null)}}var l;if(u){var f={};Gn.set(e,"bindingHandlers",f);var d=c?function(e){return function(t){var n=c()[e];return 0===arguments.length?Wt(n):n(t)}}:function(e){return u[e]};function p(){return A(c?c():u,Wt)}p.has=function(e){return e in u},p.get=function(e){return u[e]&&Wt(d(e))};for(var h=0,g=Gt(u);h<g.length;h++){var y=g[h];!function(t,r){function i(r,o){tn({during:r,errorCaptured:o,bindings:u,allBindings:p,bindingKey:t,bindingContext:n,element:e,valueAccessor:d(t)})}if(8===e.nodeType&&!r.allowVirtualElements)throw new Error("The binding ["+t+"] cannot be used with virtual elements");try{var s=Tr.ignore(function(){return new r({allBindings:p,$element:e,$context:n,onError:i,valueAccessor:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return d(t).apply(void 0,e)}})});if(f[t]=s,s.controlsDescendants){if(void 0!==l)throw new Error("Multiple bindings ("+l+" and "+t+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");l=t}s.bindingCompleted instanceof kn.Promise&&o.add(s.bindingCompleted)}catch(e){i("creation",e)}}(y[0],y[1])}}return{shouldBindDescendants:void 0===l}}function Yt(e){return e&&e instanceof It?e:new It(e)}function Xt(e,t,n,r){return 1===e.nodeType&&cr.normaliseVirtualElementDomStructure(e),Jt(e,t,Yt(n),!0,r)}function Zt(e,t){var n=new Set;return 1!==t.nodeType&&8!==t.nodeType||Kt(Yt(e),t,!0,n),kn.Promise.all(n)}function en(e,t){var n=new Set;if(void 0===!kn.jQuery&&kn.jQuery&&(kn.jQuery=kn.jQuery),t&&1!==t.nodeType&&8!==t.nodeType)throw new Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");return t=t||kn.document.body,qt(Yt(e),t,!0,n),kn.Promise.all(n)}function tn(e){var t;e.bindingKey?(t=e.errorCaptured,e.message='Unable to process binding "'+e.bindingKey+'" in binding "'+e.bindingKey+'"\nMessage: '+(t.message?t.message:t)):t=e.errorCaptured;try{b(t,e)}catch(n){e.stack=t.stack,b(t=new Error(t.message?t.message:t),e)}kn.onError(t)}function nn(e,t,n,r,o){var i=[],u=tt(function(){var u=t(n,o,Y(i,e))||[];i.length>0&&(ge(i,u),r&&Tr.ignore(r,null,[n,u,o])),i.length=0,s(i,u)},null,{disposeWhenNodeIsRemoved:e,disposeWhen:function(){return!k(i)}});return{mappedNodes:i,dependentObservable:u.isActive()?u:void 0}}function rn(t,n,r,o,u){function s(e,n){c=h[n],m!==n&&(E[e]=c),c.indexObservable(m++),Y(c.mappedNodes,t),y.push(c),D.push(c)}function a(t,n){if(t)for(var r=0,o=n.length;r<o;r++)n[r]&&e(n[r].mappedNodes,function(e){t(e,r,n[r].arrayEntry)})}n=n||[],o=o||{};for(var c,l,d,p=void 0===Gn.get(t,Qo),h=Gn.get(t,Qo)||[],g=f(i(h,function(e){return e.arrayEntry}),n,o.dontLimitMoves),y=[],v=0,m=0,A=[],D=[],C=[],E=[],F=[],B=0;l=g[B];B++)switch(d=l.moved,l.status){case"deleted":void 0===d&&((c=h[v]).dependentObservable&&(c.dependentObservable.dispose(),c.dependentObservable=void 0),Y(c.mappedNodes,t).length&&(o.beforeRemove&&(y.push(c),D.push(c),c.arrayEntry===Ko?c=null:C[B]=c),c&&A.push.apply(A,c.mappedNodes))),v++;break;case"retained":s(B,v++);break;case"added":void 0!==d?s(B,d):(c={arrayEntry:l.value,indexObservable:He(m++)},y.push(c),D.push(c),p||(F[B]=c))}Gn.set(t,Qo,y),a(o.beforeMove,E),e(A,o.beforeRemove?Q:K),B=0;for(var w,_,x=cr.firstChild(t);c=D[B];B++){c.mappedNodes||b(c,nn(t,r,c.arrayEntry,u,c.indexObservable));for(var O=0;_=c.mappedNodes[O];x=_.nextSibling,w=_,O++)_!==x&&cr.insertAfter(t,_,w);!c.initialized&&u&&(u(c.arrayEntry,c.mappedNodes,c.indexObservable),c.initialized=!0)}for(a(o.beforeRemove,C),B=0;B<C.length;++B)C[B]&&(C[B].arrayEntry=Ko);a(o.afterMove,E),a(o.afterAdd,F)}function on(e,t){function n(){this.constructor=e}xi(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function un(e){if(this.domElement=e,e){var t=P(e);this.templateType="script"===t?Oi:"textarea"===t?Ni:"template"==t&&e.content&&11===e.content.nodeType?Si:Ti}}function sn(e){return Gn.get(e,Pi)||{}}function an(e,t){Gn.set(e,Pi,t)}function cn(e){this.domElement=e}function ln(){}function fn(e){if(void 0!==e&&!(e instanceof ln))throw new Error("templateEngine must inherit from ko.templateEngine");Ii=e}function dn(e,t,n){for(var r,o=e,i=cr.nextSibling(t);o&&(r=o)!==i;)n(r,o=cr.nextSibling(r))}function pn(e,t,n){if(e.length){var r=e[0],o=e[e.length-1],i=r.parentNode,u=kn.bindingProviderInstance,s=u.preprocessNode;if(s){if(dn(r,o,function(e,t){var n=e.previousSibling,i=s.call(u,e);i&&(e===r&&(r=i[0]||t),e===o&&(o=i[i.length-1]||n))}),e.length=0,!r)return;r===o?e.push(r):(e.push(r,o),Y(e,i))}dn(r,o,function(e){1!==e.nodeType&&8!==e.nodeType||en(t,e).then(n)}),dn(r,o,function(e){1!==e.nodeType&&8!==e.nodeType||vr.unmemoizeDomNodeAndDescendants(e,[t])}),Y(e,i)}}function hn(e){return e.nodeType?e:e.length>0?e[0]:null}function gn(e,t,n,r,o,i){o=o||{};var u=(e&&hn(e)||n||{}).ownerDocument,s=(o.templateEngine||Ii).renderTemplate(n,r,o,u);if("number"!=typeof s.length||s.length>0&&"number"!=typeof s[0].nodeType)throw new Error("Template engine must return an array of DOM nodes");var a=!1;switch(t){case"replaceChildren":cr.setDomNodeChildren(e,s),a=!0;break;case"replaceNode":ge(e,s),a=!0;break;case"ignoreTargetNode":break;default:throw new Error("Unknown renderMode: "+t)}return a&&(pn(s,r,i),o.afterRender&&Tr.ignore(o.afterRender,null,[s,r.$data])),s}function yn(e,t,n){return Qe(e)?e():"function"==typeof e?e(t,n):e}function vn(e,t,n,r,o,i){if(void 0===((n=n||{}).templateEngine||Ii))throw new Error("Set a template engine before calling renderTemplate");if(o=o||"replaceChildren",r){var u=hn(r);return tt(function(){var s=t&&t instanceof It?t:new It(t,null,null,null,{exportDependencies:!0}),a=yn(e,s.$data,s),c=gn(r,o,a,s,n,i);"replaceNode"===o&&(u=hn(r=c))},null,{disposeWhen:function(){return!u||!T(u)},disposeWhenNodeIsRemoved:u&&"replaceNode"===o?u.parentNode:u})}return vr.memoize(function(r){vn(e,t,n,r,"replaceNode")})}function bn(e,t,n,r,o,i){function s(t,r){return a=o.createChildContext(t,n.as,function(e){e.$index=r}),gn(null,"ignoreTargetNode",yn(e,t,a),a,n,i)}var a,c=function(e,t){pn(t,a,i),n.afterRender&&n.afterRender(t,e),a=null};return tt(function(){var e=Ke(t)||[];"number"!=typeof e.length&&(e=[e]);var o=u(e,function(e){return n.includeDestroyed||void 0===e||null===e||!Ke(e._destroy)});Tr.ignore(rn,null,[r,o,s,n,c])},null,{disposeWhenNodeIsRemoved:r})}function mn(){}function An(e,t){function n(){this.constructor=e}$i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function Dn(e){return 8===e.nodeType&&"else"===e.nodeValue.trim().toLowerCase()}function Cn(e){for(var t=cr.childNodes(e),n=0,r=t.length;n<r;++n)if(Dn(t[n]))return!0;return!1}function En(e,t){for(var n=cr.childNodes(e),r=[],o=[],i=r,u=0,s=n.length;u<s;++u)t&&Dn(n[u])?(i=o,t=!1):i.push(Q(n[u].cloneNode(!0)));return{ifNodes:r,elseNodes:o}}function Fn(e,t){function n(){this.constructor=e}Qi(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function Bn(e){return!!e&&"object"==typeof e&&e.constructor===Object}function wn(t){var n,r=document.createElement("div");return t.content?n=t.content:"SCRIPT"===t.tagName?(n=document.createElement("div")).innerHTML=t.text:n=t,e(cr.childNodes(n),function(e){e&&r.insertBefore(e.cloneNode(!0),null)}),r}function _n(e,t){return{status:"added",value:e,index:t}}function xn(e,t){e&&(t.$index=He()),t.$list=this.data}function On(e,t){function n(){this.constructor=e}Xi(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Nn,Sn="added",Tn="deleted";try{Nn=window}catch(e){Nn=global}var kn={deferUpdates:!1,useOnlyNativeEvents:!1,protoProperty:"__ko_proto__",defaultBindingAttribute:"data-bind",allowVirtualElements:!0,bindingGlobals:Nn,bindingProviderInstance:null,jQuery:Nn&&Nn.jQuery,Promise:Nn&&Nn.Promise,taskScheduler:null,debug:!1,global:Nn,document:Nn.document,filters:{},onError:function(e){throw e},set:function(e,t){kn[e]=t}};Object.defineProperty(kn,"$",{get:function(){return kn.jQuery}});var Pn,In,jn,Vn,Rn=kn.document&&function(){for(var e=3,t=kn.document.createElement("div"),n=t.getElementsByTagName("i");t.innerHTML="\x3c!--[if gt IE "+ ++e+"]><i></i><![endif]--\x3e",n[0];);return e>4?e:void 0}(),$n=6===Rn,Mn=7===Rn,Ln=kn.protoProperty,Wn={__proto__:[]}instanceof Array,Hn=Wn?E:b,Un="function"==typeof Symbol,Qn=/\S+/g,Kn=kn.global&&kn.global.jQuery,zn="__ko__data"+new Date,qn=0;"WeakMap"in kn.global?(Pn=new WeakMap,In=function(e,t){return(Pn.get(e)||{})[t]},jn=function(e,t,n){var r;Pn.has(e)?r=Pn.get(e):(r={},Pn.set(e,r)),r[t]=n},Vn=function(e){return Pn.delete(e)}):(Pn={},In=function(e,t){var n=V(e,!1);return void 0===n?void 0:n[t]},jn=function(e,t,n){void 0===n&&void 0===V(e,!1)||(V(e,!0)[t]=n)},Vn=function(e){var t=e[zn];return!!t&&(delete Pn[t],e[zn]=null,!0)});var Gn=Object.freeze({nextKey:R,get get(){return In},get set(){return jn},get clear(){return Vn}}),Jn=R(),Yn={1:!0,8:!0,9:!0},Xn={1:!0,9:!0},Zn=[];Zn.push(z);var er={},tr={};er[kn.global.navigator&&/Firefox\/2/i.test(kn.global.navigator.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"],er.MouseEvents=["click","dblclick","mousedown","mouseup","mousemove","mouseover","mouseout","mouseenter","mouseleave"],m(er,function(e,t){if(t.length)for(var n=0,r=t.length;n<r;n++)tr[t[n]]=e});var nr={propertychange:!0},rr=kn.document&&"\x3c!--test--\x3e"===kn.document.createComment("test").text,or=rr?/^<!--\s*ko(?:\s+([\s\S]+))?\s*-->$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,ir=rr?/^<!--\s*\/ko\s*-->$/:/^\s*\/ko\s*$/,ur={ul:!0,ol:!0},sr={},ar=te,cr=Object.freeze({startCommentRegex:or,endCommentRegex:ir,isStartComment:te,isEndComment:ne,getVirtualChildren:re,allowedBindings:sr,hasBindingValue:ar,childNodes:ue,emptyNode:se,setDomNodeChildren:ae,prepend:ce,insertAfter:function(e,t,n){n?te(e)?e.parentNode.insertBefore(t,n.nextSibling):n.nextSibling?e.insertBefore(t,n.nextSibling):e.appendChild(t):ce(e,t)},firstChild:le,lastChild:function(e){var t,n=le(e);do{t=n}while(n=fe(n));return t},nextSibling:fe,previousSibling:function(e){var t=0;do{if(8===e.nodeType)if(te(e)){if(0==--t)return e}else ne(e)&&t++;else if(0===t)return e}while(e=e.previousSibling)},virtualNodeBindingValue:function(e){var t=(rr?e.text:e.nodeValue).match(or);return t?t[1]:null},normaliseVirtualElementDomStructure:function(e){if(ur[P(e)]){var t=e.firstChild;if(t)do{if(1===t.nodeType){var n=ie(t);if(n)for(var r=t.nextSibling,o=0;o<n.length;o++)r?e.insertBefore(n[o],r):e.appendChild(n[o])}}while(t=t.nextSibling)}}}),lr=[0,"",""],fr=[1,"<table>","</table>"],dr=[3,"<table><tbody><tr>","</tr></tbody></table>"],pr=[1,"<select multiple='multiple'>","</select>"],hr={area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],colgroup:fr,caption:fr,legend:[1,"<fieldset>","</fieldset>"],thead:fr,tbody:fr,tfoot:fr,tr:[2,"<table><tbody>","</tbody></table>"],td:dr,th:dr,option:pr,optgroup:pr,param:[1,"<object>","</object>"]},gr=kn.document&&"content"in kn.document.createElement("template"),yr={},vr=Object.freeze({memoize:function(e){if("function"!=typeof e)throw new Error("You can only pass a function to memoization.memoize()");var t=we();return yr[t]=e,"\x3c!--[ko_memo:"+t+"]--\x3e"},unmemoize:xe,unmemoizeDomNodeAndDescendants:function(e,t){var n=[];_e(e,n);for(var r=0,o=n.length;r<o;r++){var i=n[r].domNode,u=[i];t&&s(u,t),xe(n[r].memoId,u),i.nodeValue="",i.parentNode&&i.parentNode.removeChild(i)}},parseMemoText:Oe}),br=[],mr=0,Ar=1,Dr=0,Cr=kn.global;!Cr||!Cr.MutationObserver||Cr.navigator&&Cr.navigator.standalone?Cr&&Cr.document&&"onreadystatechange"in Cr.document.createElement("script")?kn.taskScheduler=function(e){var t=document.createElement("script");t.onreadystatechange=function(){t.onreadystatechange=null,document.documentElement.removeChild(t),t=null,e()},document.documentElement.appendChild(t)}:kn.taskScheduler=function(e){setTimeout(e,0)}:kn.taskScheduler=function(e){var t=Cr.document.createElement("div");return new MutationObserver(e).observe(t,{attributes:!0}),function(){t.classList.toggle("foo")}}(Se);var Er=Object.freeze({schedule:function(e){return mr||Te(),br[mr++]=e,Ar++},cancel:function(e){var t=e-(Ar-mr);t>=Dr&&t<mr&&(br[t]=null)},resetForTesting:function(){var e=mr-Dr;return Dr=mr=br.length=0,e},runEarly:Ne}),Fr=Object.freeze({tasks:Er,virtualElements:cr,domData:Gn,memoization:vr,jQuerySetInstance:function(e){kn.jQuery=Kn=e},options:kn,arrayForEach:e,arrayIndexOf:t,arrayFirst:n,arrayRemoveItem:r,arrayGetDistinctValues:o,arrayMap:i,arrayFilter:u,arrayPushAll:s,addOrRemoveItem:a,makeArray:c,range:function(e,t){e="function"==typeof e?e():e,t="function"==typeof t?t():t;for(var n=[],r=e;r<=t;r++)n.push(r);return n},findMovesInArrayComparison:l,compareArrays:f,throttle:y,debounce:v,catchFunctionErrors:p,deferError:h,safeSetTimeout:g,ieVersion:Rn,isIe6:$n,isIe7:Mn,extend:b,objectForEach:m,objectMap:A,getObjectOwnProperty:D,clonePlainObjectDeep:C,canSetPrototype:Wn,setPrototypeOf:E,setPrototypeOfOrExtend:Hn,hasPrototype:F,stringTrim:B,stringStartsWith:w,parseJson:function(e){return"string"==typeof e&&(e=B(e))?JSON&&JSON.parse?JSON.parse(e):new Function("return "+e)():null},stringifyJson:_,useSymbols:Un,createSymbolOrString:x,toggleDomNodeCssClass:O,registerEventHandler:G,triggerEvent:J,domNodeIsContainedBy:S,domNodeIsAttachedToDocument:T,anyDomNodeIsAttachedToDocument:k,tagNameLower:P,isDomElement:I,isDocumentFragment:j,moveCleanedNodesToContainerElement:de,cloneNodes:pe,setDomNodeChildren:he,replaceDomNodes:ge,setElementName:ye,setTextContent:ve,emptyDomNode:be,fixUpContinuousNodeArray:Y,setOptionNodeSelectionState:X,forceRefresh:Z,ensureSelectElementIsRenderedCorrectly:ee,parseHtmlFragment:Ee,setHtml:Fe,addDisposeCallback:H,removeDisposeCallback:U,cleanNode:Q,removeNode:K,otherNodeCleanerFunctions:Zn,cleanjQueryData:z}),Br={undefined:1,boolean:1,number:1,string:1},wr={notify:function(e,t){e.equalityComparer="always"==t?null:Pe},deferred:function(e,t){if(!0!==t)throw new Error("The 'deferred' extender only accepts the value 'true', because it is not supported to turn deferral off once enabled.");ke(e)},rateLimit:function(e,t){var n,r,o;"number"==typeof t?n=t:(n=t.timeout,r=t.method),e._deferUpdates=!1,o="notifyWhenChangesStop"==r?v:y,e.limit(function(e){return o(e,n)})}};Ie.prototype.dispose=function(){this.isDisposed=!0,this.disposeCallback()};var _r="change",xr={init:function(e){e._subscriptions={},e._versionNumber=1},subscribe:function(e,t,n){var o=this;n=n||_r;var i=t?e.bind(t):e,u=new Ie(o,i,function(){r(o._subscriptions[n],u),o.afterSubscriptionRemove&&o.afterSubscriptionRemove(n)});return o.beforeSubscriptionAdd&&o.beforeSubscriptionAdd(n),o._subscriptions[n]||(o._subscriptions[n]=[]),o._subscriptions[n].push(u),u},notifySubscribers:function(e,t){if((t=t||_r)===_r&&this.updateVersion(),this.hasSubscriptionsForEvent(t))try{$e();for(var n,r=this._subscriptions[t].slice(0),o=0;n=r[o];++o)n.isDisposed||n.callback(e)}finally{Me()}},getVersion:function(){return this._versionNumber},hasChanged:function(e){return this.getVersion()!==e},updateVersion:function(){++this._versionNumber},hasSubscriptionsForEvent:function(e){return this._subscriptions[e]&&this._subscriptions[e].length},getSubscriptionsCount:function(e){if(e)return this._subscriptions[e]&&this._subscriptions[e].length||0;var t=0;return m(this._subscriptions,function(e,n){"dirty"!==e&&(t+=n.length)}),t},isDifferent:function(e,t){return!this.equalityComparer||!this.equalityComparer(e,t)},once:function(e){var t=this.subscribe(function(n){t.dispose(),e(n)})},when:function(e,t){var n=this,r=this.peek(),o=arguments.length>1,i="function"==typeof e?e:function(t){return t===e};return i(r)?kn.Promise.resolve(o?t:r):new kn.Promise(function(e,r){var u=n.subscribe(function(n){i(n)&&(u.dispose(),e(o?t:n))})})},yet:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r="function"==typeof e?e:function(t){return t===e};return this.when.apply(this,[function(e){return!r(e)}].concat(t))},next:function(){var e=this;return new Promise(function(t){return e.once(t)})},extend:function(e){var t=this;return e&&m(e,function(e,n){var r=wr[e];"function"==typeof r?t=r(t,n)||t:kn.onError(new Error("Extender not found: "+e))}),t}};Wn&&E(xr,Function.prototype),je.fn=xr;var Or,Nr=[],Sr=0,Tr=Object.freeze({begin:$e,end:Me,registerDependency:Le,ignore:We,getDependenciesCount:function(){if(Or)return Or.computed.getDependenciesCount()},isInitial:function(){if(Or)return Or.isInitial},ignoreDependencies:We}),kr=x("_latestValue");He.fn={equalityComparer:Pe,peek:function(){return this[kr]},valueHasMutated:function(){this.notifySubscribers(this[kr])},valueWillMutate:function(){this.notifySubscribers(this[kr],"beforeChange")},then:function(e,t){try{e(this())}catch(e){t(e)}}},je.fn.limit=function(e){var t,n,r,o=this,i=Qe(o);o._origNotifySubscribers||(o._origNotifySubscribers=o.notifySubscribers,o.notifySubscribers=Ue);var u=e(function(){o._notificationIsPending=!1,i&&r===o&&(r=o()),t=!1,o.isDifferent(n,r)&&o._origNotifySubscribers(n=r)});o._limitChange=function(e){o._notificationIsPending=t=!0,r=e,u()},o._limitBeforeChange=function(e){t||(n=e,o._origNotifySubscribers(e,"beforeChange"))}},Wn&&E(He.fn,je.fn);var Pr=He.protoProperty=kn.protoProperty;He.fn[Pr]=He;var Ir="arrayChange";Ge.compareArrays=f,wr.trackArrayChanges=Ge,Je.fn={remove:function(e){for(var t=this.peek(),n=[],r="function"!=typeof e||Qe(e)?function(t){return t===e}:e,o=0;o<t.length;o++){var i=t[o];r(i)&&(0===n.length&&this.valueWillMutate(),n.push(i),t.splice(o,1),o--)}return n.length&&this.valueHasMutated(),n},removeAll:function(e){if(void 0===e){var n=this.peek(),r=n.slice(0);return this.valueWillMutate(),n.splice(0,n.length),this.valueHasMutated(),r}return e?this.remove(function(n){return t(e,n)>=0}):[]},destroy:function(e){var t=this.peek(),n="function"!=typeof e||Qe(e)?function(t){return t===e}:e;this.valueWillMutate();for(var r=t.length-1;r>=0;r--)n(t[r])&&(t[r]._destroy=!0);this.valueHasMutated()},destroyAll:function(e){return void 0===e?this.destroy(function(){return!0}):e?this.destroy(function(n){return t(e,n)>=0}):[]},indexOf:function(e){return t(this(),e)},replace:function(e,t){var n=this.indexOf(e);n>=0&&(this.valueWillMutate(),this.peek()[n]=t,this.valueHasMutated())}},Wn&&E(Je.fn,He.fn),e(["pop","push","reverse","shift","sort","splice","unshift"],function(e){Je.fn[e]=function(){var t=this.peek();this.valueWillMutate(),this.cacheDiffForKnownOperation(t,e,arguments);var n=t[e].apply(t,arguments);return this.valueHasMutated(),n===t?this:n}}),e(["slice"],function(e){Je.fn[e]=function(){var t=this();return t[e].apply(t,arguments)}});var jr=10;et.prototype={constructor:et,save:function(e,n){var r=t(this.keys,e);r>=0?this.values[r]=n:(this.keys.push(e),this.values.push(n))},get:function(e){var n=t(this.keys,e);return n>=0?this.values[n]:void 0}};var Vr=x("_state");tt.fn={equalityComparer:Pe,getDependenciesCount:function(){return this[Vr].dependenciesCount},addDependencyTracking:function(e,t,n){if(this[Vr].pure&&t===this)throw Error("A 'pure' computed must not be called recursively");this[Vr].dependencyTracking[e]=n,n._order=this[Vr].dependenciesCount++,n._version=t.getVersion()},haveDependenciesChanged:function(){var e,t,n=this[Vr].dependencyTracking;for(e in n)if(n.hasOwnProperty(e)&&(t=n[e])._target.hasChanged(t._version))return!0},markDirty:function(){this._evalDelayed&&!this[Vr].isBeingEvaluated&&this._evalDelayed()},isActive:function(){return this[Vr].isStale||this[Vr].dependenciesCount>0},respondToChange:function(){this._notificationIsPending||this.evaluatePossiblyAsync()},subscribeToDependency:function(e){if(e._deferUpdates&&!this[Vr].disposeWhenNodeIsRemoved){var t=e.subscribe(this.markDirty,this,"dirty"),n=e.subscribe(this.respondToChange,this);return{_target:e,dispose:function(){t.dispose(),n.dispose()}}}return e.subscribe(this.evaluatePossiblyAsync,this)},evaluatePossiblyAsync:function(){var e=this,t=e.throttleEvaluation;t&&t>=0?(clearTimeout(this[Vr].evaluationTimeoutInstance),this[Vr].evaluationTimeoutInstance=g(function(){e.evaluateImmediate(!0)},t)):e._evalDelayed?e._evalDelayed():e.evaluateImmediate(!0)},evaluateImmediate:function(e){var t=this,n=t[Vr],r=n.disposeWhen;if(!n.isBeingEvaluated&&!n.isDisposed){if(n.disposeWhenNodeIsRemoved&&!T(n.disposeWhenNodeIsRemoved)||r&&r()){if(!n.suppressDisposalUntilDisposeWhenReturnsFalse)return void t.dispose()}else n.suppressDisposalUntilDisposeWhenReturnsFalse=!1;n.isBeingEvaluated=!0;try{this.evaluateImmediate_CallReadWithDependencyDetection(e)}finally{n.isBeingEvaluated=!1}n.dependenciesCount||t.dispose()}},evaluateImmediate_CallReadWithDependencyDetection:function(e){var t=this,n=t[Vr],r=n.pure?void 0:!n.dependenciesCount,o={computedObservable:t,disposalCandidates:n.dependencyTracking,disposalCount:n.dependenciesCount};Tr.begin({callbackTarget:o,callback:rt,computed:t,isInitial:r}),n.dependencyTracking={},n.dependenciesCount=0;var i=this.evaluateImmediate_CallReadThenEndDependencyDetection(n,o);t.isDifferent(n.latestValue,i)&&(n.isSleeping||t.notifySubscribers(n.latestValue,"beforeChange"),n.latestValue=i,n.isSleeping?t.updateVersion():e&&t.notifySubscribers(n.latestValue)),r&&t.notifySubscribers(n.latestValue,"awake")},evaluateImmediate_CallReadThenEndDependencyDetection:function(e,t){try{var n=e.readFunction;return e.evaluatorFunctionTarget?n.call(e.evaluatorFunctionTarget):n()}finally{Tr.end(),t.disposalCount&&!e.isSleeping&&m(t.disposalCandidates,nt),e.isStale=!1}},peek:function(){var e=this[Vr];return(e.isStale&&!e.dependenciesCount||e.isSleeping&&this.haveDependenciesChanged())&&this.evaluateImmediate(),e.latestValue},limit:function(e){je.fn.limit.call(this,e),this._evalDelayed=function(){this._limitBeforeChange(this[Vr].latestValue),this[Vr].isStale=!0,this._limitChange(this)}},dispose:function(){var e=this[Vr];!e.isSleeping&&e.dependencyTracking&&m(e.dependencyTracking,function(e,t){t.dispose&&t.dispose()}),e.disposeWhenNodeIsRemoved&&e.domNodeDisposalCallback&&U(e.disposeWhenNodeIsRemoved,e.domNodeDisposalCallback),e.dependencyTracking=null,e.dependenciesCount=0,e.isDisposed=!0,e.isStale=!1,e.isSleeping=!1,e.disposeWhenNodeIsRemoved=null,e.readFunction=null,kn.debug&&(this._options=null)}};var Rr={beforeSubscriptionAdd:function(t){var n=this,r=n[Vr];if(!r.isDisposed&&r.isSleeping&&"change"==t){if(r.isSleeping=!1,r.isStale||n.haveDependenciesChanged())r.dependencyTracking=null,r.dependenciesCount=0,r.isStale=!0,n.evaluateImmediate();else{var o=[];m(r.dependencyTracking,function(e,t){o[t._order]=e}),e(o,function(e,t){var o=r.dependencyTracking[e],i=n.subscribeToDependency(o._target);i._order=t,i._version=o._version,r.dependencyTracking[e]=i})}r.isDisposed||n.notifySubscribers(r.latestValue,"awake")}},afterSubscriptionRemove:function(e){var t=this[Vr];t.isDisposed||"change"!=e||this.hasSubscriptionsForEvent("change")||(m(t.dependencyTracking,function(e,n){n.dispose&&(t.dependencyTracking[e]={_target:n._target,_order:n._order,_version:n._version},n.dispose())}),t.isSleeping=!0,this.notifySubscribers(void 0,"asleep"))},getVersion:function(){var e=this[Vr];return e.isSleeping&&(e.isStale||this.haveDependenciesChanged())&&this.evaluateImmediate(),je.fn.getVersion.call(this)}},$r={beforeSubscriptionAdd:function(e){"change"!=e&&"beforeChange"!=e||this.peek()}};Wn&&E(tt.fn,je.fn);var Mr=He.protoProperty;tt[Mr]=He,tt.fn[Mr]=tt,wr.throttle=function(e,t){e.throttleEvaluation=t;var n=null;return tt({read:e,write:function(r){clearTimeout(n),n=setTimeout(function(){e(r)},t)}})};var Lr={"@":function(e,t){for(;"function"==typeof t;)t=t();return t},"#":function(e,t){return function(){return Ke(t)}},"=>":it,"!":function(e,t){return!t},"!!":function(e,t){return!!t},"++":function(e,t){return++t},"--":function(e,t){return--t},"*":function(e,t){return e*t},"/":function(e,t){return e/t},"%":function(e,t){return e%t},"+":function(e,t){return e+t},"-":function(e,t){return(e||0)-(t||0)},"&-":function(e,t){return-1*t},"<":function(e,t){return e<t},"<=":function(e,t){return e<=t},">":function(e,t){return e>t},">=":function(e,t){return e>=t},"==":function(e,t){return e===t},"!=":function(e,t){return e!==t},"===":function(e,t){return e===t},"!==":function(e,t){return e!==t},"&":function(e,t){return e&t},"^":function(e,t){return e^t},"|":function(e,t){return e|t},"&&":function(e,t){return e&&t},"||":function(e,t){return e||t},".":function(e,t){return e[t]},"[":function(e,t){return e[t]},call:function(e,t){return e.apply(null,t)}};Lr["@"].precedence=21,Lr["#"].precedence=21,Lr["=>"].precedence=20,Lr["."].precedence=19,Lr["["].precedence=19,Lr["!"].precedence=16,Lr["!!"].precedence=16,Lr["++"].precedence=16,Lr["--"].precedence=16,Lr["&-"].precedence=16,Lr["%"].precedence=14,Lr["*"].precedence=14,Lr["/"].precedence=14,Lr["+"].precedence=13,Lr["-"].precedence=13,Lr["|"].precedence=12,Lr["^"].precedence=11,Lr["&"].precedence=10,Lr["<"].precedence=11,Lr["<="].precedence=11,Lr[">"].precedence=11,Lr[">="].precedence=11,Lr["=="].precedence=10,Lr["!="].precedence=10,Lr["==="].precedence=10,Lr["!=="].precedence=10,Lr["&&"].precedence=6,Lr["||"].precedence=5,Lr["&&"].earlyOut=function(e){return!e},Lr["||"].earlyOut=function(e){return e},Lr.call.precedence=1;var Wr=Symbol("Node - Is Expression Or Identifier"),Hr=function(){function e(e,t,n){this.lhs=e,this.op=t,this.rhs=n}return Object.defineProperty(e,"operators",{get:function(){return Lr},enumerable:!0,configurable:!0}),e.prototype.get_leaf_value=function(t,n,r,o){return"function"==typeof t?Ke(t()):"object"!=typeof t||null===t?t:t[e.isExpressionOrIdentifierSymbol]?Ke(t.get_value(void 0,n,r,o)):t},e.prototype.get_value=function(e,t,n,r){if((r=this).op===it)return function(){return r.get_leaf_value(r.rhs,t,n,r)};var o=r.get_leaf_value(r.lhs,t,n,r),i=r.op.earlyOut;if(i&&i(o))return o;var u=r.get_leaf_value(r.rhs,t,n,r);return r.op(o,u,t,n)},Object.defineProperty(e,"isExpressionOrIdentifierSymbol",{get:function(){return Wr},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,Wr,{get:function(){return!0},enumerable:!0,configurable:!0}),e.value_of=function(t,n,r,o){return t&&t[e.isExpressionOrIdentifierSymbol]?t.get_value(t,n,r,o):t},e.create_root=function(t){var n,r,o,i;for(r=n=new e(t.shift(),t.shift(),t.shift());;){if(o=t.shift(),i=t.shift(),!o)break;o.precedence<n.op.precedence?r=n=new e(n,o,i):(r.rhs=new e(r.rhs,o,i),r=r.rhs)}return n},e}();Lr["?"]=function(e,t,n,r,o){return Hr.value_of(e?t.yes:t.no,n,r,o)},Lr["?"].precedence=4;var Ur=function(){function e(e){this.nodes=e,this.root=Hr.create_root(e)}return e.prototype.get_value=function(e,t,n,r){return this.root||(this.root=Hr.create_root(this.nodes)),this.root.get_value(e,t,n,r)},e}();Ur.prototype[Hr.isExpressionOrIdentifierSymbol]=!0;var Qr=function(){function e(e,t){this.parser=e,this.args=t}return e.prototype.get_value=function(e,t,n,r){for(var o=[],i=0,u=this.args.length;i<u;++i)o.push(Hr.value_of(this.args[i],t,n,r));return o},Object.defineProperty(e.prototype,Hr.isExpressionOrIdentifierSymbol,{get:function(){return!0},enumerable:!0,configurable:!0}),e}(),Kr=/[\$A-Z_a-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,zr=/[\$0-9A-Z_a-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,qr=function(){function e(e,t,n){this.token=t,this.dereferences=n,this.parser=e}return e.prototype.dereference=function(e,t,n,r){var o,i,u,s,a=this.dereferences||[],c=t.$data||{};for(u=0,s=a.length;u<s;++u)o=Hr.value_of(a[u],t,n,r),"function"==typeof e&&a[u]instanceof Qr?i=e=e.apply(i||c,o):(i=e,e=Hr.value_of(e[o],t,n,r));return"function"==typeof e&&s>0&&i!==e&&!i.hasOwnProperty(o)?e.bind(i):e},e.prototype.get_value=function(t,n,r,o){var i=!t||t instanceof e?n.lookup(this.token,r,o):Hr.value_of(t,n,r,o)[this.token];return this.dereference(i,n,r,o)},e.prototype.assign=function(e,t,n){qe(e[t])?e[t](n):Qe(e[t])||(e[t]=n)},e.prototype.set_value=function(e,t,n){var r,o,i,u=t.$data||{},s=this.dereferences||[],a=this.token;if(Object.hasOwnProperty.call(u,a))i=u;else if(Object.hasOwnProperty.call(t,a))i=t;else{if(!Object.hasOwnProperty.call(n,a))throw new Error("Identifier::set_value -- The property '"+a+"' does not exist on the $data, $context, or globals.");i=n}if(0!==(o=s.length)){for(i=i[a],r=0;r<o-1;++r)i=(a=s[r])instanceof Qr?i():i[Hr.value_of(a)];if(!0===s[r])throw new Error("Cannot assign a value to a function.");s[r]&&this.assign(i,Hr.value_of(s[r]),e)}else this.assign(i,a,e)},e.is_valid_start_char=function(e){return Kr.test(e)},e.is_valid_continue_char=function(e){return zr.test(e)},Object.defineProperty(e.prototype,Hr.isExpressionOrIdentifierSymbol,{get:function(){return!0},enumerable:!0,configurable:!0}),e}(),Gr=function(){function e(e,t){Object.assign(this,{yes:e,no:t})}return e.prototype.get_value=function(){return this},Object.defineProperty(e.prototype,Hr.isExpressionOrIdentifierSymbol,{get:function(){return!0},enumerable:!0,configurable:!0}),e}(),Jr={"'":"'",'"':'"',"`":"`","\\":"\\","/":"/",$:"$",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},Yr=function(){function e(){}return e.prototype.white=function(){for(var e=this.ch;e&&e<=" ";)e=this.next();return this.comment(e)},e.prototype.comment=function(e){if("/"!==e)return e;var t=this.at,n=this.lookahead();if("/"===n){for(;e&&"\n"!==(e=this.next())&&"\r"!==e;);e=this.next()}else if("*"===n){for(;e;)if("*"===(e=this.next())&&"/"===this.lookahead()){this.next();break}return e||this.error("Unclosed comment, starting at character "+t),this.next(),this.white()}return e},e.prototype.next=function(e){return e&&e!==this.ch&&this.error("Expected '"+e+"' but got '"+this.ch+"'"),this.ch=this.text.charAt(this.at),this.at+=1,this.ch},e.prototype.lookahead=function(){return this.text[this.at]},e.prototype.error=function(e){if(e instanceof Error)throw e;var t=e.name?[e.name,e.message]:[e,""],n="\n"+t[0]+" "+t[1]+" of\n    "+this.text+"\n"+Array(this.at).join(" ")+"_/  \\_\n";throw new Error(n)},e.prototype.name=function(){var e,t="";this.white();var n=this.ch;for("'"!==n&&'"'!==n||(e=n,n=this.next());n;){if(e&&n===e)return this.white(),":"!==(n=this.next())&&","!==n&&this.error("Object name: "+t+" missing closing "+e),t;if(":"===n||n<=" "||","===n||"|"===n)return t;t+=n,n=this.next()}return t},e.prototype.number=function(){var e,t="",n=this.ch;for("-"===n&&(t="-",n=this.next("-"));n>="0"&&n<="9";)t+=n,n=this.next();if("."===n)for(t+=".",n=this.next();n&&n>="0"&&n<="9";)t+=n,n=this.next();if("e"===n||"E"===n)for(t+=n,"-"!==(n=this.next())&&"+"!==n||(t+=n,n=this.next());n>="0"&&n<="9";)t+=n,n=this.next();if(e=+t,isFinite(e))return e;kn.onError(new Error("Bad number: "+e+" in "+t))},e.prototype.objectAddValue=function(e,t,n){var r=this;n&&n[Hr.isExpressionOrIdentifierSymbol]?Object.defineProperty(e,t,{get:function(){return Hr.value_of.apply(Hr,[n].concat(r.currentContextGlobals))},enumerable:!0}):Array.isArray(n)?Object.defineProperty(e,t,{get:function(){return n.map(function(e){return Hr.value_of.apply(Hr,[e].concat(r.currentContextGlobals))})},enumerable:!0}):e[t]=n},e.prototype.object=function(){var e,t={},n=this.ch;if("{"===n){if(this.next("{"),"}"===(n=this.white()))return n=this.next("}"),t;for(;n;){if(e='"'===n||"'"===n||"`"===n?this.string():this.name(),this.white(),n=this.next(":"),Object.hasOwnProperty.call(t,e)&&this.error('Duplicate key "'+e+'"'),this.objectAddValue(t,e,this.expression()),"}"===(n=this.white()))return n=this.next("}"),t;this.next(","),n=this.white()}}this.error("Bad object")},e.prototype.readString=function(e){for(var t,n,r,o="",i=[""],u=Lr["+"],s="`"===e,a=this.next();a;){if(a===e)return a=this.next(),s&&i.push(u),i.push(o),i;if("\\"===a)if("u"===(a=this.next())){for(r=0,n=0;n<4&&(t=parseInt(a=this.next(),16),isFinite(t));n+=1)r=16*r+t;o+=String.fromCharCode(r)}else{if("string"!=typeof Jr[a])break;o+=Jr[a]}else s&&"$"===a?"{"===(a=this.next())?(this.next("{"),i.push(u),i.push(o),i.push(u),i.push(this.expression()),o=""):o+="$"+a:o+=a;a=this.next()}this.error("Bad string")},e.prototype.string=function(){var e=this.ch;return'"'===e?this.readString('"').join(""):"'"===e?this.readString("'").join(""):"`"===e?Hr.create_root(this.readString("`")):void this.error("Bad string")},e.prototype.array=function(){var e=[],t=this.ch;if("["===t){if(t=this.next("["),this.white(),"]"===t)return t=this.next("]"),e;for(;t;){if(e.push(this.expression()),"]"===(t=this.white()))return t=this.next("]"),e;this.next(","),t=this.white()}}this.error("Bad array")},e.prototype.value=function(){var e;switch(this.white(),e=this.ch){case"{":return this.object();case"[":return this.array();case'"':case"'":case"`":return this.string();case"-":return this.number();default:return e>="0"&&e<="9"?this.number():this.identifier()}},e.prototype.operator=function(e){for(var t,n="",r=this.white(),o=qr.is_valid_start_char;r&&!(o(r)||r<=" "||""===r||'"'===r||"'"===r||"{"===r||"("===r||"`"===r||")"===r||r<="9"&&r>="0")&&(e.not_an_array||"["!==r)&&(n+=r,"@"!==(r=this.next()));)o=qr.is_valid_continue_char;return""!==n&&(e.prefix&&"-"===n&&(n="&-"),(t=Lr[n])||this.error("Bad operator: '"+n+"'.")),t},e.prototype.filter=function(){var e=this.next(),t=[],n=function(e){return e},r=this.name();for(kn.filters[r]||kn.onError("Cannot find filter by the name of: "+r),e=this.white();e;){if(":"===e&&(e=this.next(),t.push(this.expression("|"))),"|"===e){n=this.filter();break}if(","===e)break;e=this.white()}var o=function(e,o,i,u,s){for(var a=[e],c=0,l=t.length;c<l;++c)a.push(Hr.value_of(t[c],i,u,s));return n(kn.filters[r].apply(null,a))};return o.precedence=1,o},e.prototype.expression=function(e){for(var t,n=[],r=this.white();r&&((t=this.operator({prefix:!0}))&&(n.push(void 0),n.push(t),r=this.white()),"("===r?(this.next(),n.push(this.expression()),this.next(")")):n.push(this.value()),":"!==(r=this.white())&&"}"!==r&&","!==r&&"]"!==r&&")"!==r&&""!==r&&"`"!==r&&("|"!==r||"|"!==e));){if("|"===r&&"|"!==this.lookahead()&&e){n.push(this.filter()),n.push(void 0);break}if((t=this.operator({not_an_array:!0}))===Lr["?"]){this.ternary(n);break}if(t===Lr["."]?(n.push(t),n.push(this.member()),t=null):t===Lr["["]?(n.push(t),n.push(this.expression()),r=this.next("]"),t=null):t&&n.push(t),"]"===(r=this.white())||!t&&"("===r)break}if(0!==n.length){var o=this.dereferences();if(1===n.length&&!o.length)return n[0];for(var i=0,u=o.length;i<u;++i){var s=o[i];s.constructor===Qr?n.push(Lr.call):n.push(Lr["."]),n.push(s)}return new Ur(n)}},e.prototype.ternary=function(e){var t=new Gr;t.yes=this.expression(),this.next(":"),t.no=this.expression(),e.push(Lr["?"]),e.push(t)},e.prototype.funcArguments=function(){for(var e=[],t=this.next("(");t;){if(")"===(t=this.white()))return this.next(")"),new Qr(this,e);e.push(this.expression()),")"!==(t=this.white())&&this.next(",")}this.error("Bad arguments to function")},e.prototype.member=function(){for(var e="",t=this.white(),n=qr.is_valid_start_char;t&&n(t);)e+=t,t=this.next(),n=qr.is_valid_continue_char;return e},e.prototype.dereference=function(){for(var e,t=this.white();t;){if("("===t)return this.funcArguments();if("["===t)return this.next("["),e=this.expression(),this.white(),this.next("]"),e;if("."===t)return this.next("."),this.member();break}},e.prototype.dereferences=function(){for(var e,t=this.white(),n=[];t&&void 0!==(e=this.dereference());)n.push(e);return n},e.prototype.identifier=function(){for(var e="",t=qr.is_valid_start_char,n=this.white();n&&t(n);)e+=n,n=this.next(),t=qr.is_valid_continue_char;switch(e){case"true":return!0;case"false":return!1;case"null":return null;case"undefined":return;case"function":throw new Error("Knockout: Anonymous functions are no longer supported, but `=>` lambas are.")}return new qr(this,e,this.dereferences())},e.prototype.readBindings=function(){for(var e,t,n,r={},o=this.ch;o;)e=this.name(),(t=this.white())&&","!==t?(-1!==e.indexOf(".")?(r[(e=e.split("."))[0]]=r[e[0]]||{},2!==e.length?kn.onError("Binding "+e+" should have two parts (a.b)."):r[e[0]].constructor!==Object&&kn.onError("Binding "+e[0]+"."+e[1]+" paired with a non-object."),o=this.next(":"),this.objectAddValue(r[e[0]],e[1],this.expression(!0))):(o=this.next(":"),r[e]&&"object"==typeof r[e]&&r[e].constructor===Object?"object"!=typeof(n=this.expression(!0))||n.constructor!==Object?kn.onError("Expected plain object for "+e+" value."):b(r[e],n):r[e]=this.expression(!0)),this.white(),o=this.ch?this.next(","):""):(o=t?this.next(","):"",r[e]=null);return r},e.prototype.valueAsAccessor=function(e,t,n,r){if(!e)return function(){return e};if("function"==typeof e)return e;if(e[Hr.isExpressionOrIdentifierSymbol])return function(){return Hr.value_of(e,t,n,r)};if(Array.isArray(e))return function(){return e.map(function(e){return Hr.value_of(e,t,n,r)})};if("function"!=typeof e)return function(){return C(e)};throw new Error("Value has cannot be converted to accessor: "+e)},e.prototype.convertToAccessors=function(e,t,n,r){var o=this;return m(e,function(i,u){u instanceof qr?Object.defineProperty(e,i,{value:function(e,o){var i=u.get_value(void 0,t,n,r);if(0===arguments.length)return i;var s=e===i;if(!(o&&o.onlyIfChanged&&s))return u.set_value(e,t,n)}}):e[i]=o.valueAsAccessor(u,t,n,r)}),e},e.prototype.runParse=function(e,t){this.text=(e||"").trim(),this.at=0,this.ch=" ";try{var n=t();return this.white(),this.ch&&this.error("Syntax Error"),n}catch(e){kn.onError(e)}},e.prototype.parse=function(e,t,n,r){var o=this;if(void 0===t&&(t={}),void 0===n&&(n={}),!e)return function(){return null};this.currentContextGlobals=[t,n,r];var i=this.runParse(e,function(){return o.readBindings()});return this.convertToAccessors(i,t,n,r)},e.prototype.parseExpression=function(e,t,n,r){var o=this;if(void 0===t&&(t={}),void 0===n&&(n={}),!e)return function(){return""};this.currentContextGlobals=[t,n,r];var i=this.runParse(e,function(){return o.expression(!0)});return this.valueAsAccessor(i,t,n,r)},e}(),Xr=RegExp("\"(?:[^\"\\\\]|\\\\.)*\"|'(?:[^'\\\\]|\\\\.)*'|/(?:[^/\\\\]|\\\\.)*/w*|[^\\s:,/][^,\"'{}()/:[\\]]*[^\\s,\"'{}()/:[\\]]|[^\\s]","g"),Zr=/[\])"'A-Za-z0-9_$]+$/,eo={in:1,return:1,typeof:1},to=function(){function e(){}return e.prototype.set=function(e,t){"string"==typeof e?this[e]=t:"object"==typeof e?(void 0!==t&&kn.onError(new Error("Given extraneous `value` parameter (first param should be a string, but it was an object)."+e)),Object.assign(this,e)):kn.onError(new Error("Given a bad binding handler type: "+e))},e.prototype.get=function(e){return this[e.split(".")[0]]},e}(),no=function(){function e(t){if(void 0===t&&(t={}),this.constructor===e)throw new Error("Provider is an abstract base class.");if(!("FOR_NODE_TYPES"in this))throw new Error("Providers must have FOR_NODE_TYPES property");this.bindingHandlers=t.bindingHandlers||new to,this.globals=t.globals||{}}return e.prototype.nodeHasBindings=function(){},e.prototype.getBindingAccessors=function(){},e.prototype.preprocessNode=function(){},e.prototype.postProcess=function(){},e}(),ro=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},oo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return st(t,e),t.prototype.processBinding=function(e,t){var n,r,o,i,u,s,a,c,l,f,d;return at(this,function(p){switch(p.label){case 0:if(n=e.split("."),r=n[0],o=n[1],!(i=this.bindingHandlers.get(r))||!i.preprocess)return[3,5];u=[],s=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return u.push(e)},t=i.preprocess(t,e,s),a=0,c=u,p.label=1;case 1:return a<c.length?(l=c[a],f=l[0],d=l[1],[5,ct(this.processBinding(f,d))]):[3,4];case 2:p.sent(),p.label=3;case 3:return a++,[3,1];case 4:return[3,6];case 5:o&&(t="{"+o+":"+t+"}"),p.label=6;case 6:return[4,r+":"+t];case 7:return p.sent(),[2]}})},t.prototype.generateBindingString=function(e){var t,n,r,o,i,u;return at(this,function(s){switch(s.label){case 0:t=0,n=ut(e),s.label=1;case 1:return t<n.length?(r=n[t],o=r.key,i=r.unknown,u=r.value,[5,ct(this.processBinding(o||i,u))]):[3,4];case 2:s.sent(),s.label=3;case 3:return t++,[3,1];case 4:return[2]}})},t.prototype.preProcessBindings=function(e){return Array.from(this.generateBindingString(e)).join(",")},t.prototype.getBindingAccessors=function(e,t){var n=e&&this.getBindingString(e);if(n){var r=this.preProcessBindings(n);return(new Yr).parse(r,t,this.globals,e)}},t.prototype.getBindingString=function(){throw new Error("Overload getBindingString.")},t}(no),io=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},uo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return lt(t,e),Object.defineProperty(t.prototype,"FOR_NODE_TYPES",{get:function(){return[8]},enumerable:!0,configurable:!0}),t.prototype.getBindingString=function(e){if(e.nodeType===document.COMMENT_NODE)return cr.virtualNodeBindingValue(e)},t.prototype.nodeHasBindings=function(e){if(e.nodeType===document.COMMENT_NODE)return cr.isStartComment(e)},t}(oo),so=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},ao=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ft(t,e),Object.defineProperty(t.prototype,"FOR_NODE_TYPES",{get:function(){return[1]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"BIND_ATTRIBUTE",{get:function(){return"data-bind"},enumerable:!0,configurable:!0}),t.prototype.getBindingString=function(e){if(e.nodeType===document.ELEMENT_NODE)return e.getAttribute(this.BIND_ATTRIBUTE)},t.prototype.nodeHasBindings=function(e){if(e.nodeType===document.ELEMENT_NODE)return e.hasAttribute(this.BIND_ATTRIBUTE)},t}(oo),co=x("LifeCycle Subscriptions List"),lo=x("LifeCycle Anchor Node"),fo=function(){function e(){}return e.mixInto=function(t){for(var n=t.prototype||t,r=e.prototype,o=0,i=Object.getOwnPropertyNames(r);o<i.length;o++){var u=i[o];n[u]=r[u]}},e.prototype.subscribe=function(e,t){"string"==typeof t&&(t=this[t].bind(this)),this.addDisposable(e.subscribe(t))},e.prototype.computed=function(e){if("string"==typeof e)e={read:this[e],write:this[e],owner:this};else if("object"==typeof e);else{if("function"!=typeof e)throw new Error("LifeCycle::computed not given a valid type.");e={read:e,write:e}}return e.disposeWhenNodeIsRemoved=this[lo],this.addDisposable(tt(e))},e.prototype.addEventListener=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[0].nodeType?e.shift():this[lo],r=e[0],o=e[1],i=e[2],u="string"==typeof o?this[o].bind(this):o;this.__addEventListener(n,r,u,i)},e.prototype.__addEventListener=function(e,t,n,r){function o(){e.removeEventListener(t,n)}e.addEventListener(t,n,r),H(e,o),this.addDisposable({dispose:o})},e.prototype.anchorTo=function(e){var t=this;H(e,function(){return t.dispose()}),this[lo]=e},e.prototype.dispose=function(){(this[co]||[]).forEach(function(e){return e.dispose()}),this[co]=[],this[lo]=null},e.prototype.addDisposable=function(e){var t=this[co]||[];if(this[co]||(this[co]=t),"function"!=typeof e.dispose)throw new Error("Lifecycle::addDisposable argument missing `dispose`.");return t.push(e),e},e}(),po={},ho={},go={get:function(e,t){var n=D(ho,e);n?n.isSynchronousComponent?Tr.ignore(function(){t(n.definition)}):Er.schedule(function(){t(n.definition)}):dt(e,t)},clearCachedDefinition:function(e){delete ho[e]},_getFirstResultFromLoaders:ht,loaders:[]},yo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},vo={},bo={getConfig:function(e,t){t(vo.hasOwnProperty(e)?vo[e]:null)},loadComponent:function(e,t,n){var r=Et(e);Ct(r,t,function(t){bt(e,r,t,n)})},loadTemplate:function(e,t,n){mt(Et(e),t,n)},loadViewModel:function(e,t,n){At(Et(e),t,n)}},mo="createViewModel";go.loaders.push(bo);var Ao={ComponentABC:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return gt(t,e),Object.defineProperty(t,"elementName",{get:function(){throw new Error("[ComponentABC] `elementName` must be overloaded.")},enumerable:!0,configurable:!0}),Object.defineProperty(t,"template",{get:function(){return{element:this.element}},enumerable:!0,configurable:!0}),Object.defineProperty(t,"element",{get:function(){throw new Error("[ComponentABC] `element` must be overloaded.")},enumerable:!0,configurable:!0}),Object.defineProperty(t,"sync",{get:function(){return!0},enumerable:!0,configurable:!0}),t.register=function(e){void 0===e&&(e=this.elementName),yt(e,{viewModel:this,template:this.template,synchronous:this.sync})},t}(fo),get:go.get,clearCachedDefinition:go.clearCachedDefinition,register:yt,isRegistered:vt,unregister:function(e){delete vo[e],go.clearCachedDefinition(e)},defaultLoader:bo,_allRegisteredComponents:vo,get loaders(){return go.loaders},set loaders(e){go.loaders=e}},Do=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},Co=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ft(t,e),Object.defineProperty(t.prototype,"FOR_NODE_TYPES",{get:function(){return[1]},enumerable:!0,configurable:!0}),t.prototype.nodeHasBindings=function(e){return Boolean(this.getComponentNameForNode(e))},t.prototype.getBindingAccessors=function(e,t){var n=this,r=this.getComponentNameForNode(e);if(r){return{component:function(){return{name:r,params:n.getComponentParams(e,t)}}}}},t.prototype.getComponentNameForNode=function(e){if(e.nodeType===e.ELEMENT_NODE){var t=P(e);if(Ao.isRegistered(t)){var n=""+e=="[object HTMLUnknownElement]";if(t.includes("-")||n)return t}}},t.prototype.getComponentParams=function(e,t){var n=this,r=new Yr(e,t,this.globals),o=(e.getAttribute("params")||"").trim(),i=r.parse(o,t,e);if(!i||0===Object.keys(i).length)return{$raw:{}};var u=A(i,function(t){return tt(t,null,{disposeWhenNodeIsRemoved:e})}),s=A(u,function(t){return n.makeParamValue(e,t)});return Object.assign({$raw:u},s)},t.prototype.makeParamValue=function(e,t){var n=t.peek();return t.isActive()?tt({read:function(){return Ke(t())},write:qe(n)?function(e){return t()(e)}:null,disposeWhenNodeIsRemoved:e}):n},t}(no),Eo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},Fo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Bt(t,e),Object.defineProperty(t.prototype,"FOR_NODE_TYPES",{get:function(){return[1]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"PREFIX",{get:function(){return"ko-"},enumerable:!0,configurable:!0}),t.prototype.getBindingAttributesList=function(e){var t=this;return e.hasAttributes()?Array.from(e.attributes).filter(function(e){return e.name.startsWith(t.PREFIX)}):[]},t.prototype.nodeHasBindings=function(e){return this.getBindingAttributesList(e).length>0},t.prototype.getBindingAccessors=function(e,t){return Object.assign.apply(Object,[{}].concat(this.handlersFromAttributes(e,t)))},t.prototype.handlersFromAttributes=function(e,t){var n,r,o,i,u,s=this;return wt(this,function(a){switch(a.label){case 0:n=function(n){var o,i;return wt(this,function(u){switch(u.label){case 0:return o=n.name.substr(r.PREFIX.length),[4,(i={},i[o]=function(){return s.getValue(n.value,t,e)},i)];case 1:return u.sent(),[2]}})},r=this,o=0,i=this.getBindingAttributesList(e),a.label=1;case 1:return o<i.length?(u=i[o],[5,n(u)]):[3,4];case 2:a.sent(),a.label=3;case 3:return o++,[3,1];case 4:return[2]}})},t.prototype.getValue=function(e,t,n){if(e){var r=t.$data;switch(e){case"$element":return n;case"$context":return t;case"this":case"$data":return t.$data}if(r instanceof Object&&e in r)return r[e];if(e in t)return t[e];if(e in this.globals)return this.globals[e];throw new Error("The variable '"+e+" not found.")}},t}(no),Bo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},wo=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this,r=t.providers||[];return n.nodeTypeMap={},n.nodeTypes=[],n.providers=[],r.forEach(function(e){return n.addProvider(e)}),n}return _t(t,e),Object.defineProperty(t.prototype,"FOR_NODE_TYPES",{get:function(){return this.nodeTypes},enumerable:!0,configurable:!0}),t.prototype.addProvider=function(e){this.providers.push(e),e.bindingHandlers=this.bindingHandlers,e.globals=this.globals;for(var t=this.nodeTypeMap,n=0,r=e.FOR_NODE_TYPES;n<r.length;n++){var o=r[n];t[o]||(t[o]=[]),t[o].push(e)}this.nodeTypes=Object.keys(this.nodeTypeMap).map(function(e){return parseInt(e,10)})},t.prototype.providersFor=function(e){return this.nodeTypeMap[e.nodeType]||[]},t.prototype.nodeHasBindings=function(e){return this.providersFor(e).some(function(t){return t.nodeHasBindings(e)})},t.prototype.preprocessNode=function(e){for(var t=0,n=this.providersFor(e);t<n.length;t++){var r=n[t].preprocessNode(e);if(r)return r}},t.prototype.enumerateProviderBindings=function(e,t){var n,r,o,i,u,s,a,c,l;return xt(this,function(f){switch(f.label){case 0:n=0,r=this.providersFor(e),f.label=1;case 1:if(!(n<r.length))return[3,6];o=r[n],i=o.getBindingAccessors(e,t)||{},u=0,s=Object.entries(i||{}),f.label=2;case 2:return u<s.length?(a=s[u],c=a[0],l=a[1],[4,[c,l]]):[3,5];case 3:f.sent(),f.label=4;case 4:return u++,[3,2];case 5:return n++,[3,1];case 6:return[2]}})},t.prototype.getBindingAccessors=function(e,t){e=this.preprocessNode(e)||e;for(var n={},r=0,o=this.enumerateProviderBindings(e,t);r<o.length;r++){var i=o[r],u=i[0],s=i[1];if(u in n)throw new Error('The binding "'+u+'" is duplicated by multiple providers');n[u]=s}return n},t}(no),_o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},xo=/^([\s\S]*)}}([\s\S]*?)\{\{([\s\S]*)$/,Oo=/^([\s\S]*?)\{\{([\s\S]*)}}([\s\S]*)$/,No=/^([^,"'{}()/:[\]\s]+)\s+([^\s:].*)/,So=function(){function e(e){this.text=e}return e.prototype.trim=function(e){return null===e?"":e.trim()},e}(),To=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ot(t,e),t.prototype.asAttr=function(e,t,n){return(new Yr).parseExpression(this.text,e,t,n)()},t.prototype.textNodeReplacement=function(e){var t,n,r,o,i,u,s;return Nt(this,function(a){switch(a.label){case 0:return t=this.trim(this.text),n=e?e.ownerDocument:document,r=t[0],o=t[t.length-1],i=!0,"#"===r?("/"===o?u=t.slice(1,-1):(u=t.slice(1),i=!1),(s=u.match(No))&&(u=s[1]+":"+s[2])):"/"===r||(u="{"===r&&"}"===o?"html:"+this.trim(t.slice(1,-1)):"text:"+this.trim(t)),u?[4,n.createComment("ko "+u)]:[3,2];case 1:a.sent(),a.label=2;case 2:return i?[4,n.createComment("/ko")]:[3,4];case 3:a.sent(),a.label=4;case 4:return[2]}})},t}(So),ko=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ot(t,e),t.prototype.asAttr=function(){return this.text},t.prototype.textNodeReplacement=function(){return Nt(this,function(e){switch(e.label){case 0:return[4,document.createTextNode(this.text.replace(/"/g,'\\"'))];case 1:return e.sent(),[2]}})},t}(So),Po={value:"value",checked:"checked",class:"css"},Io=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.ATTRIBUTES_TO_SKIP=new Set(t.attributesToSkip||["data-bind"]),n.ATTRIBUTES_BINDING_MAP=t.attributesBindingMap||Po,n}return Ot(t,e),Object.defineProperty(t.prototype,"FOR_NODE_TYPES",{get:function(){return[1]},enumerable:!0,configurable:!0}),t.prototype.attributesToInterpolate=function(e){var t,n,r;return Nt(this,function(o){switch(o.label){case 0:t=0,n=Array.from(e),o.label=1;case 1:return t<n.length?(r=n[t],this.ATTRIBUTES_TO_SKIP.has(r.name)?[3,3]:r.specified&&r.value.includes("{{")?[4,r]:[3,3]):[3,4];case 2:o.sent(),o.label=3;case 3:return t++,[3,1];case 4:return[2]}})},t.prototype.nodeHasBindings=function(e){return!this.attributesToInterpolate(e.attributes).next().done},t.prototype.partsTogether=function(e,t,n){for(var r=this,o=[],i=3;i<arguments.length;i++)o[i-3]=arguments[i];if(e.length>1)return e.map(function(e){return Ke(e.asAttr(t,r.globals,n))}).join("");var u=e[0].asAttr(t,this.globals);return o.length&&u(o[0]),u},t.prototype.attributeBinding=function(e,t){return[e,t]},t.prototype.bindingParts=function(e,t){var n,r,o,i;return Nt(this,function(t){switch(t.label){case 0:n=0,r=this.attributesToInterpolate(e.attributes),t.label=1;case 1:return n<r.length?(o=r[n],(i=Array.from(Pt(o.value))).length?[4,this.attributeBinding(o.name,i)]:[3,3]):[3,4];case 2:t.sent(),t.label=3;case 3:return n++,[3,1];case 4:return[2]}})},t.prototype.getPossibleDirectBinding=function(e){return this.ATTRIBUTES_BINDING_MAP[e]&&this.bindingHandlers.get(e)},t.prototype.bindingObjects=function(e,t){var n,r,o,i,u,s,a,c=this;return Nt(this,function(l){switch(l.label){case 0:n=function(n,o){var i,u,s,a;return Nt(this,function(l){switch(l.label){case 0:return i=r.getPossibleDirectBinding(n),u=i?n:"attr."+n,s=i?function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return c.partsTogether.apply(c,[o,t,e].concat(n))}:function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return u={},u[n]=c.partsTogether.apply(c,[o,t,e].concat(r)),u;var u},e.removeAttribute(n),[4,(a={},a[u]=s,a)];case 1:return l.sent(),[2]}})},r=this,o=0,i=this.bindingParts(e,t),l.label=1;case 1:return o<i.length?(u=i[o],s=u[0],a=u[1],[5,n(s,a)]):[3,4];case 2:l.sent(),l.label=3;case 3:return o++,[3,1];case 4:return[2]}})},t.prototype.getBindingAccessors=function(e,t){return Object.assign.apply(Object,[{}].concat(this.bindingObjects(e,t)))},t}(no),jo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ot(t,e),Object.defineProperty(t.prototype,"FOR_NODE_TYPES",{get:function(){return[3]},enumerable:!0,configurable:!0}),t.prototype.textToNodes=function(e){var t,n,r,o,i,u;return Nt(this,function(s){switch(s.label){case 0:if(t=e.parentNode,n=t&&"TEXTAREA"===t.nodeName,!(r=e.nodeValue&&e.nodeValue.includes("{{"))||n)return[2];o=0,i=Pt(e.nodeValue),s.label=1;case 1:return o<i.length?(u=i[o],[5,St(u.textNodeReplacement(e))]):[3,4];case 2:s.sent(),s.label=3;case 3:return o++,[3,1];case 4:return[2]}})},t.prototype.textInterpolation=function(e){var t=Array.from(this.textToNodes(e));if(0!==t.length){if(e.parentNode){for(var n=e.parentNode,r=t.length,o=0;o<r;++o)n.insertBefore(t[o],e);n.removeChild(e)}return t}},t.prototype.preprocessNode=function(e){return this.textInterpolation(e)},t}(no),Vo=Gn.nextKey();It.prototype.lookup=function(e,t,n){switch(e){case"$element":return n;case"$context":return this;case"this":case"$data":return this.$data}var r=this.$data;if(r instanceof Object&&e in r)return r[e];if(e in this)return this[e];if(e in t)return t[e];throw new Error('The variable "'+e+'" was not found on $data, $context, or globals.')},It.prototype.createChildContext=function(e,t,n,r){return new It(e,this,t,function(e,t){e.$parentContext=t,e.$parent=t.$data,e.$parents=(t.$parents||[]).slice(0),e.$parents.unshift(e.$parent),n&&n(e)},r)},It.prototype.extend=function(e){return new It(this._subscribable||this.$data,this,null,function(t,n){t.$rawData=n.$rawData,b(t,"function"==typeof e?e():e)})},It.prototype.createStaticChildContext=function(e,t){return this.createChildContext(e,t,null,{exportDependencies:!0})};var Ro=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},$o=function(e){function t(t){var n=e.call(this)||this,r=t.$element,o=t.valueAccessor,i=t.allBindings,u=t.$context;return Object.assign(n,{valueAccessor:o,allBindings:i,$element:r,$context:u,$data:u.$data}),n.anchorTo(r),n}return Rt(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.valueAccessor()},set:function(e){return this.valueAccessor(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"controlsDescendants",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(t,"allowVirtualElements",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(t,"isBindingHandlerClass",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bindingCompleted",{get:function(){return!0},enumerable:!0,configurable:!0}),t.registerAs=function(e,t){void 0===t&&(t=kn.bindingProviderInstance),t.bindingHandlers.set(e,this)},t}(fo),Mo=function(e){function t(t){var n=e.call(this,t)||this;return n.bindingCompletion=new kn.Promise(function(e){n.completeBinding=e}),n}return Rt(t,e),Object.defineProperty(t.prototype,"bindingCompleted",{get:function(){return this.bindingCompletion},enumerable:!0,configurable:!0}),t}($o),Lo=new(kn.global.WeakMap||Map),Wo=function(e){function t(t){var n=e.call(this,t)||this,r=n.handler;"function"==typeof r.dispose&&n.addDisposable(r);try{n.initReturn=r.init&&r.init.apply(r,n.legacyArgs)}catch(e){t.onError("init",e)}return"function"==typeof r.update&&n.computed(function(){try{r.update.apply(r,n.legacyArgs)}catch(e){t.onError("update",e)}}),n}return Rt(t,e),Object.defineProperty(t.prototype,"legacyArgs",{get:function(){return[this.$element,this.valueAccessor,this.allBindings,this.$data,this.$context]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"controlsDescendants",{get:function(){return(this.initReturn||this.handler||{}).controlsDescendantBindings},enumerable:!0,configurable:!0}),t.getOrCreateFor=function(e,t){if(Lo.has(t))return Lo.get(t);var n=this.createFor(e,t);return Lo.set(t,n),n},t.createFor=function(e,n){if("function"==typeof n){var r=[n,n.dispose],o=r[0],i=r[1];return function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return Rt(r,t),Object.defineProperty(r.prototype,"handler",{get:function(){return{init:o.bind(this),dispose:i?i.bind(this):null}},enumerable:!0,configurable:!0}),Object.defineProperty(r,"after",{get:function(){return n.after},enumerable:!0,configurable:!0}),Object.defineProperty(r,"allowVirtualElements",{get:function(){return n.allowVirtualElements||cr.allowedBindings[e]},enumerable:!0,configurable:!0}),r}(t)}if("object"==typeof n)return function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return Rt(r,t),Object.defineProperty(r.prototype,"handler",{get:function(){return n},enumerable:!0,configurable:!0}),Object.defineProperty(r,"after",{get:function(){return n.after},enumerable:!0,configurable:!0}),Object.defineProperty(r,"allowVirtualElements",{get:function(){return n.allowVirtualElements||cr.allowedBindings[e]},enumerable:!0,configurable:!0}),r}(t);throw new Error("The given handler is not an appropriate type.")},t}($o),Ho={script:!0,textarea:!0,template:!0},Uo=Gn.nextKey(),Qo=Gn.nextKey(),Ko=Gn.nextKey(),zo={update:function(e,t,n){m(Ke(t())||{},function(t,n){n=Ke(n);var r=t.indexOf(":"),o=r<0?null:e.lookupNamespaceURI(t.substr(0,r)),i=!1===n||null===n||void 0===n;i?e.removeAttributeNS(o,t):e.setAttributeNS(o,t,n.toString()),"name"===t&&ye(e,i?"":n.toString())})}},qo={after:["value","attr"],init:function(e,n,r){function o(){var t=e.checked,r=p?i():t;if(!Tr.isInitial()&&(!s||t)){var o=Tr.ignore(n);if(l){var u=f?o.peek():o;d!==r?(t&&(a(u,r,!0),a(u,d,!1)),d=r):a(u,r,t),f&&qe(o)&&o(u)}else n(r,{onlyIfChanged:!0})}}var i=ot(function(){return r.has("checkedValue")?Ke(r.get("checkedValue")):r.has("value")?Ke(r.get("value")):e.value}),u="checkbox"==e.type,s="radio"==e.type;if(u||s){var c=n(),l=u&&Ke(c)instanceof Array,f=!(l&&c.push&&c.splice),d=l?i():void 0,p=s||l;tt(o,null,{disposeWhenNodeIsRemoved:e}),G(e,"click",o),tt(function(){var r=Ke(n());e.checked=l?t(r,i())>=0:u?r:i()===r},null,{disposeWhenNodeIsRemoved:e}),c=void 0}}},Go={update:function(e,t){e.value=Ke(t())}},Jo={init:function(e,t,n,r,o){m(t()||{},function(i){"string"==typeof i&&G(e,i,function(e){var u,s=t()[i];if(s){try{var a=c(arguments);r=o.$data,a.unshift(r),u=s.apply(r,a)}finally{!0!==u&&(e.preventDefault?e.preventDefault():e.returnValue=!1)}!1!==n.get(i+"Bubble")||(e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation())}})})}},Yo={init:Jo.init,preprocess:function(e,t,n){n(t.replace("on.",""),"=>"+e)}},Xo=function(e){return{init:function(t,n,r,o,i){Jo.init.call(this,t,function(){var t={};return t[e]=n(),t},r,o,i)}}}("click"),Zo={aliases:["class"],update:function(e,t){var n=Ke(t());null!==n&&"object"==typeof n?m(n,function(t,n){n=Ke(n),O(e,t,n)}):(n=B(String(n||"")),O(e,e[Zo.classesWrittenByBindingKey],!1),e[Zo.classesWrittenByBindingKey]=n,O(e,n,!0))},classesWrittenByBindingKey:x("__ko__cssValue")},ei={update:function(e,t){var n=Ke(t());n&&e.disabled?e.removeAttribute("disabled"):n||e.disabled||(e.disabled=!0)}},ti={update:function(e,t){ei.update(e,function(){return!Ke(t())})}},ni=x("__ko_hasfocusUpdating"),ri=x("__ko_hasfocusLastValue"),oi={init:function(e,t){var n=function(n){e[ni]=!0;var r=e.ownerDocument;if("activeElement"in r){var o;try{o=r.activeElement}catch(e){o=r.body}n=o===e}t(n,{onlyIfChanged:!0}),e[ri]=n,e[ni]=!1},r=n.bind(null,!0),o=n.bind(null,!1);G(e,"focus",r),G(e,"focusin",r),G(e,"blur",o),G(e,"focusout",o)},update:function(e,t){var n=!!Ke(t());e[ni]||e[ri]===n||(n?e.focus():e.blur(),!n&&e[ri]&&e.ownerDocument.body.focus(),Tr.ignore(J,null,[e,n?"focusin":"focusout"]))}},ii={init:function(){return{controlsDescendantBindings:!0}},update:function(e,t){Fe(e,t())},allowVirtualElements:!0},ui={init:function(e,t,n,r,o){return Zt(o.extend(t),e),{controlsDescendantBindings:!0}},allowVirtualElements:!0},si={optionsValueDomDataKey:void 0,readValue:function(e){switch(P(e)){case"option":return!0===e.__ko__hasDomDataOptionValue__?Gn.get(e,si.optionValueDomDataKey):e.value;case"select":return e.selectedIndex>=0?si.readValue(e.options[e.selectedIndex]):void 0;default:return e.value}},writeValue:function(e,t,n){switch(P(e)){case"option":switch(typeof t){case"string":Gn.set(e,si.optionValueDomDataKey,void 0),"__ko__hasDomDataOptionValue__"in e&&delete e.__ko__hasDomDataOptionValue__,e.value=t;break;default:Gn.set(e,si.optionValueDomDataKey,t),e.__ko__hasDomDataOptionValue__=!0,e.value="number"==typeof t?t:""}break;case"select":""!==t&&null!==t||(t=void 0);for(var r,o=-1,i=0,u=e.options.length;i<u;++i)if((r=si.readValue(e.options[i]))==t||""===r&&void 0===t){o=i;break}(n||o>=0||void 0===t&&e.size>1)&&(e.selectedIndex=o);break;default:null!==t&&void 0!==t||(t=""),e.value=t}}},ai={},ci={init:function(e){if("select"!==P(e))throw new Error("options binding applies only to SELECT elements");for(;e.length>0;)e.remove(0);return{controlsDescendantBindings:!0}},update:function(e,n,r){function o(){return u(e.options,function(e){return e.selected})}function s(e,t,n){var r=typeof t;return"function"==r?t(e):"string"==r?e[t]:n}function a(n,o){if(m&&g)si.writeValue(e,Ke(r.get("value")),!0);else if(b.length){var i=t(b,si.readValue(o[0]))>=0;X(o[0],i),m&&!i&&Tr.ignore(J,null,[e,"change"])}}var c,l,f=0==e.length,d=e.multiple,p=!f&&d?e.scrollTop:null,h=Ke(n()),g=r.get("valueAllowUnset")&&r.has("value"),y=r.get("optionsIncludeDestroyed"),v={},b=[];g||(d?b=i(o(),si.readValue):e.selectedIndex>=0&&b.push(si.readValue(e.options[e.selectedIndex]))),h&&(void 0===h.length&&(h=[h]),l=u(h,function(e){return y||void 0===e||null===e||!Ke(e._destroy)}),r.has("optionsCaption")&&null!==(c=Ke(r.get("optionsCaption")))&&void 0!==c&&l.unshift(ai));var m=!1;v.beforeRemove=function(t){e.removeChild(t)};var A=a;r.has("optionsAfterRender")&&"function"==typeof r.get("optionsAfterRender")&&(A=function(e,t){a(0,t),Tr.ignore(r.get("optionsAfterRender"),null,[t[0],e!==ai?e:void 0])}),rn(e,l,function(t,n,o){o.length&&(b=!g&&o[0].selected?[si.readValue(o[0])]:[],m=!0);var i=e.ownerDocument.createElement("option");if(t===ai)ve(i,r.get("optionsCaption")),si.writeValue(i,void 0);else{var u=s(t,r.get("optionsValue"),t);si.writeValue(i,Ke(u)),ve(i,s(t,r.get("optionsText"),u))}return[i]},v,A),Tr.ignore(function(){if(g)si.writeValue(e,Ke(r.get("value")),!0);else{(d?b.length&&o().length<b.length:b.length&&e.selectedIndex>=0?si.readValue(e.options[e.selectedIndex])!==b[0]:b.length||e.selectedIndex>=0)&&J(e,"change")}}),ee(e),p&&Math.abs(p-e.scrollTop)>20&&(e.scrollTop=p)}};si.optionValueDomDataKey=Gn.nextKey();var li,fi,di,pi,hi,gi={after:["options","foreach"],init:function(t,n,r){G(t,"change",function(){n();var r=[];e(t.getElementsByTagName("option"),function(e){e.selected&&r.push(si.readValue(e))}),n(r)})},update:function(n,r){if("select"!=P(n))throw new Error("values binding applies only to SELECT elements");var o=Ke(r()),i=n.scrollTop;o&&"number"==typeof o.length&&e(n.getElementsByTagName("option"),function(e){var n=t(o,si.readValue(e))>=0;e.selected!=n&&X(e,n)}),n.scrollTop=i}},yi={update:function(e,t){m(Ke(t()||{}),function(t,n){null!==(n=Ke(n))&&void 0!==n&&!1!==n||(n=""),e.style[t]=n})}},vi={init:function(e,t,n,r,o){if("function"!=typeof t())throw new Error("The value for a submit binding must be a function");G(e,"submit",function(n){var r,i=t();try{r=i.call(o.$data,e)}finally{!0!==r&&(n.preventDefault?n.preventDefault():n.returnValue=!1)}})}},bi={init:function(){return{controlsDescendantBindings:!0}},update:function(e,t){ve(e,t())},allowVirtualElements:!0},mi=kn.global;if(mi.navigator&&(li=function(e){if(e)return parseFloat(e[1])},fi=mi.opera&&mi.opera.version&&parseInt(mi.opera.version()),di=mi.navigator.userAgent,pi=li(di.match(/^(?:(?!chrome).)*version\/([^ ]*) safari/i)),hi=li(di.match(/Firefox\/([^ ]*)/))),Rn<10)var Ai=Gn.nextKey(),Di=Gn.nextKey(),Ci=function(e){var t=this.activeElement,n=t&&Gn.get(t,Di);n&&n(e)},Ei=function(e,t){var n=e.ownerDocument;Gn.get(n,Ai)||(Gn.set(n,Ai,!0),G(n,"selectionchange",Ci)),Gn.set(e,Di,t)};var Fi={aliases:"textinput",init:function(t,n){var r,o,i=t.value,u=function(e){clearTimeout(r),o=r=void 0;var u=t.value;i!==u&&(kn.debug&&e&&(t._ko_textInputProcessedEvent=e.type),i=u,n(u))},s=function(e){if(!r){o=t.value;var n=kn.debug?u.bind(t,{type:e.type}):u;r=g(n,4)}},a=9===Rn?s:u,c=function(){var e=Ke(n());null!==e&&void 0!==e||(e=""),void 0===o||e!==o?t.value!==e&&(i=e,t.value=e):g(c,4)},l=function(e,n){G(t,e,n)};kn.debug&&Fi._forceUpdateOn?e(Fi._forceUpdateOn,function(e){"after"==e.slice(0,5)?l(e.slice(5),s):l(e,u)}):Rn<10?(l("propertychange",function(e){"value"===e.propertyName&&a(e)}),8==Rn&&(l("keyup",u),l("keydown",u)),Rn>=8&&(Ei(t,a),l("dragend",s))):(l("input",u),pi<5&&"textarea"===P(t)?(l("keydown",s),l("paste",s),l("cut",s)):fi<11?l("keydown",s):hi<4&&(l("DOMAutoComplete",u),l("dragdrop",u),l("drop",u))),l("change",u),tt(c,null,{disposeWhenNodeIsRemoved:t})}},Bi={init:function(e,t){t()&&ye(e,"ko_unique_"+ ++Bi.currentIndex)},currentIndex:0},wi={update:function(e,t){var n=Ke(t()),r=!("none"==e.style.display);n&&!r?e.style.display="":!n&&r&&(e.style.display="none")}},_i={attr:zo,checked:qo,checkedValue:Go,click:Xo,css:Zo,class:Zo,enable:ei,event:Jo,disable:ti,hasfocus:oi,hasFocus:oi,hidden:{update:function(e,t){wi.update.call(this,e,function(){return!Ke(t())})}},html:ii,let:ui,on:Yo,options:ci,selectedOptions:gi,style:yi,submit:vi,text:bi,textInput:Fi,textinput:Fi,uniqueName:Bi,using:{init:function(e,t,n,r,o){return Zt(o.createChildContext(t),e),{controlsDescendantBindings:!0}},allowVirtualElements:!0},value:{after:["options","foreach"],init:function(n,r,i){if("input"!=n.tagName.toLowerCase()||"checkbox"!=n.type&&"radio"!=n.type){var u=["change"],a=i.get("valueUpdate"),c=!1,l=null;a&&("string"==typeof a&&(a=[a]),s(u,a),u=o(u));var f=function(){l=null,c=!1;r();var e=si.readValue(n);r(e)};Rn&&"input"==n.tagName.toLowerCase()&&"text"==n.type&&"off"!=n.autocomplete&&(!n.form||"off"!=n.form.autocomplete)&&-1==t(u,"propertychange")&&(G(n,"propertychange",function(){c=!0}),G(n,"focus",function(){c=!1}),G(n,"blur",function(){c&&f()})),e(u,function(e){var t=f;w(e,"after")&&(t=function(){l=si.readValue(n),g(f,0)},e=e.substring("after".length)),G(n,e,t)});var d=function(){var e=Ke(r()),t=si.readValue(n);if(null===l||e!==l){if(e!==t)if("select"===P(n)){var o=i.get("valueAllowUnset"),u=function(){si.writeValue(n,e,o)};u(),o||e===si.readValue(n)?g(u,0):Tr.ignore(J,null,[n,"change"])}else si.writeValue(n,e)}else g(d,0)};tt(d,null,{disposeWhenNodeIsRemoved:n})}else Xt(n,{checkedValue:r})}},visible:wi},xi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},Oi=1,Ni=2,Si=3,Ti=4;un.prototype.text=function(){var e=this.templateType===Oi?"text":this.templateType===Ni?"value":"innerHTML";if(0==arguments.length)return this.domElement[e];var t=arguments[0];"innerHTML"===e?Fe(this.domElement,t):this.domElement[e]=t};var ki=Gn.nextKey()+"_";un.prototype.data=function(e){if(1===arguments.length)return Gn.get(this.domElement,ki+e);Gn.set(this.domElement,ki+e,arguments[1])};var Pi=Gn.nextKey();un.prototype.nodes=function(){var e=this.domElement;if(0==arguments.length)return sn(e).containerData||(this.templateType===Si?e.content:this.templateType===Ti?e:void 0);an(e,{containerData:arguments[0]})},cn.prototype=new un,cn.prototype.constructor=cn,cn.prototype.text=function(){if(0==arguments.length){var e=sn(this.domElement);return void 0===e.textData&&e.containerData&&(e.textData=e.containerData.innerHTML),e.textData}var t=arguments[0];an(this.domElement,{textData:t})},b(ln.prototype,{renderTemplateSource:function(e,t,n,r){n.onError("Override renderTemplateSource")},createJavaScriptEvaluatorBlock:function(e){kn.onError("Override createJavaScriptEvaluatorBlock")},makeTemplateSource:function(e,t){if("string"==typeof e){var n=(t=t||document).getElementById(e);return n||kn.onError("Cannot find template with ID "+e),new un(n)}if(1==e.nodeType||8==e.nodeType)return new cn(e);kn.onError("Unknown template type: "+e)},renderTemplate:function(e,t,n,r){var o=this.makeTemplateSource(e,r);return this.renderTemplateSource(o,t,n,r)}});var Ii,ji=Gn.nextKey(),Vi=function(e){function t(t){var n,r=e.call(this,t)||this,o=r.$element,i=Ke(r.value);if(Gn.set(o,"conditional",{elseChainSatisfied:He(!0)}),"string"==typeof i||i.name)cr.emptyNode(o);else if("nodes"in i){var u=i.nodes||[];if(Qe(u))throw new Error('The "nodes" option must be a plain, non-observable array.');n=de(u),new cn(o).nodes(n)}else n=de(cr.childNodes(o)),new cn(o).nodes(n);return r.computed(r.onValueChange.bind(r)),r}return on(t,e),t.prototype.onValueChange=function(){var e,t=this.$element,n=this.$context,r=this.value,o=Ke(r),i=!0,u=null,s=Gn.get(t,"conditional").elseChainSatisfied;if("string"==typeof o?(e=r,o={}):(e=o.name,"if"in o&&(i=Ke(o.if)),i&&"ifnot"in o&&(i=!Ke(o.ifnot))),"foreach"in o){var a=i&&o.foreach||[];u=bn(e||t,a,o,t,n,this.completeBinding),s(0!==(Ke(a)||[]).length)}else if(i){var c="data"in o?n.createStaticChildContext(o.data,o.as):n;u=vn(e||t,c,o,t,void 0,this.completeBinding),s(!0)}else cr.emptyNode(t),s(!1);this.disposeOldComputedAndStoreNewOne(t,u)},t.prototype.disposeOldComputedAndStoreNewOne=function(e,t){var n=Gn.get(e,ji);n&&"function"==typeof n.dispose&&n.dispose(),Gn.set(e,ji,t&&t.isActive()?t:void 0)},Object.defineProperty(t.prototype,"controlsDescendants",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(t,"allowVirtualElements",{get:function(){return!0},enumerable:!0,configurable:!0}),t}(Mo);(mn.prototype=new ln).constructor=mn,mn.prototype.renderTemplateSource=function(e,t,n,r){var o=(!(Rn<9)?e.nodes:null)?e.nodes():null;return o?c(o.cloneNode(!0).childNodes):Ee(e.text(),r)},fn(mn.instance=new mn);var Ri={foreach:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return on(t,e),Object.defineProperty(t.prototype,"value",{get:function(){var e=this.valueAccessor(),t=ze(e);return t&&"number"!=typeof t.length?(Ke(e),{foreach:t.data,as:t.as,includeDestroyed:t.includeDestroyed,afterAdd:t.afterAdd,beforeRemove:t.beforeRemove,afterRender:t.afterRender,beforeMove:t.beforeMove,afterMove:t.afterMove,templateEngine:mn.instance}):{foreach:e,templateEngine:mn.instance}},enumerable:!0,configurable:!0}),t}(Vi),template:Vi},$i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},Mi=function(e){function t(t){var n=e.call(this,t)||this;n.hasElse=Cn(n.$element);var r=n.completesElseChain=He();return Gn.set(n.$element,"conditional",{elseChainSatisfied:r}),n.computed(n.render.bind(n)),n}return An(t,e),Object.defineProperty(t.prototype,"elseChainIsAlreadySatisfied",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"needsRefresh",{get:function(){return this.isFirstRender||this.shouldDisplayIf!==this.didDisplayOnLastUpdate},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shouldDisplayIf",{get:function(){return!!Ke(this.value)},enumerable:!0,configurable:!0}),t.prototype.getIfElseNodes=function(){return this.ifElseNodes?this.ifElseNodes:Tr.getDependenciesCount()||this.hasElse?En(this.$element,this.hasElse):void 0},t.prototype.render=function(){"function"==typeof this.value&&this.value();var e=!this.ifElseNodes,t=this.shouldDisplayIf,n=this.needsRefresh;this.elseChainIsAlreadySatisfied?(t=!1,n=e||this.didDisplayOnLastUpdate,this.completesElseChain(!0)):this.completesElseChain(this.shouldDisplayIf),n&&(this.ifElseNodes=this.getIfElseNodes(),t?e&&!this.hasElse||cr.setDomNodeChildren(this.$element,pe(this.ifElseNodes.ifNodes)):this.ifElseNodes?cr.setDomNodeChildren(this.$element,pe(this.ifElseNodes.elseNodes)):cr.emptyNode(this.$element),Zt(this.bindingContext,this.$element).then(this.completeBinding),this.didDisplayOnLastUpdate=t)},Object.defineProperty(t.prototype,"bindingContext",{get:function(){return this.$context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"controlsDescendants",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(t,"allowVirtualElements",{get:function(){return!0},enumerable:!0,configurable:!0}),t}(Mo),Li=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return An(t,e),t}(Mi),Wi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return An(t,e),Object.defineProperty(t.prototype,"shouldDisplayIf",{get:function(){return!e.prototype.shouldDisplayIf},enumerable:!0,configurable:!0}),t}(Mi),Hi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return An(t,e),Object.defineProperty(t.prototype,"shouldDisplayIf",{get:function(){return e.prototype.shouldDisplayIf||void 0===this.value},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"elseChainIsAlreadySatisfied",{get:function(){return this._elseChain||(this._elseChain=this.readElseChain()),Ke(this._elseChain.elseChainSatisfied)},enumerable:!0,configurable:!0}),t.prototype.readElseChain=function(){var e=this.$element;do{e=e.previousSibling}while(e&&1!==e.nodeType&&8!==e.nodeType);return!!e&&(8===e.nodeType&&(e=cr.previousSibling(e)),Gn.get(e,"conditional")||{})},t}(Mi),Ui={if:Li,with:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return An(t,e),Object.defineProperty(t.prototype,"needsRefresh",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bindingContext",{get:function(){return this.$context.createStaticChildContext(this.value)},enumerable:!0,configurable:!0}),t}(Mi),ifnot:Wi,unless:Wi,else:Hi,elseif:Hi},Qi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},Ki=kn.document&&"function"==typeof kn.document.createDocumentFragment,zi=x("_ko_ffe_pending_delete_index"),qi=function(t){function n(e){var n=t.call(this,e)||this,r={};Bn(n.value)&&Object.assign(r,n.value),n.noIndex=r.noIndex||n.allBindings.get("noIndex"),n.as=r.as||n.allBindings.get("as"),n.data=r.data||(Ke(n.$context.$rawData)===n.value?n.$context.$rawData:n.value),n.container=cr.isStartComment(n.$element)?n.$element.parentNode:n.$element,n.generateContext=n.createContextGenerator(n.as,!n.noIndex),n.noIndex&&(n.updateIndexes=!1),n.templateNode=wn(r.templateNode||(r.name?document.getElementById(r.name).cloneNode(!0):n.$element)),["afterAdd","beforeRemove","afterQueueFlush","beforeQueueFlush"].forEach(function(e){n[e]=r[e]||n.allBindings.get(e)}),n.changeQueue=[],n.firstLastNodesList=[],n.indexesToDelete=[],n.rendering_queued=!1,n.pendingDeletes=[],n.isNotEmpty=He(Boolean(Ke(n.data).length)),Gn.set(n.$element,"conditional",{elseChainSatisfied:n.isNotEmpty}),cr.emptyNode(n.$element);var o=Ke(n.data);return o.map?n.onArrayChange(o.map(_n),!0):n.completeBinding(),Qe(n.data)&&(n.data.indexOf||(n.data=n.data.extend({trackArrayChanges:!0})),n.changeSubs=n.data.subscribe(n.onArrayChange,n,"arrayChange")),n}return Fn(n,t),n.prototype.dispose=function(){this.changeSubs&&this.changeSubs.dispose(),this.flushPendingDeletes()},n.prototype.onArrayChange=function(e,t){for(var r=this,o={added:[],deleted:[]},i=0,u=e.length;i<u;i++){if(o.added.length&&"added"===e[i].status){var s=o.added[o.added.length-1];if((s.isBatch?s.index+s.values.length-1:s.index)+1===e[i].index){s.isBatch||(s={isBatch:!0,status:"added",index:s.index,values:[s.value]},o.added.splice(o.added.length-1,1,s)),s.values.push(e[i].value);continue}}o[e[i].status].push(e[i])}o.deleted.length>0&&(this.changeQueue.push.apply(this.changeQueue,o.deleted),this.changeQueue.push({status:"clearDeletedIndexes"})),this.changeQueue.push.apply(this.changeQueue,o.added),this.changeQueue.length>0&&!this.rendering_queued&&(this.rendering_queued=!0,t?this.processQueue():n.animateFrame.call(window,function(){return r.processQueue()}))},n.prototype.startQueueFlush=function(){"function"==typeof this.beforeQueueFlush&&this.beforeQueueFlush(this.changeQueue)},n.prototype.endQueueFlush=function(){"function"==typeof this.afterQueueFlush&&this.afterQueueFlush(this.changeQueue)},n.prototype.processQueue=function(){var t=this,n=!Ke(this.data).length,r=9007199254740991;this.startQueueFlush(),e(this.changeQueue,function(e){"number"==typeof e.index&&(r=Math.min(r,e.index)),t[e.status](e)}),this.flushPendingDeletes(),this.rendering_queued=!1,this.updateIndexes&&this.updateIndexes(r),this.endQueueFlush(),this.changeQueue=[],n!==!this.isNotEmpty()&&this.isNotEmpty(!n)},n.prototype.createContextGenerator=function(e,t){var n=this.$context;switch((e&&1)|(t&&2)){case 0:return function(e){return n.createChildContext(e,null,xn.bind(this,!1))};case 1:return function(t){var r={$index:void 0,$list:this.data};return r[e]=t,n.extend(r)};case 2:return function(e){return n.createChildContext(e,null,xn.bind(this,!0))};case 3:return function(t){var r={$index:He(),$list:this.data};return r[e]=t,n.extend(r)}}},n.prototype.added=function(e){for(var t,n=e.index,r=e.isBatch?e.values:[e.value],o=this.getLastNodeBeforeIndex(n),i=[],u=[],s=0,a=r.length;s<a;++s){var c=this.getPendingDeleteFor(r[s]);if(c&&c.nodesets.length)t=c.nodesets.pop();else{var l=this.templateNode.cloneNode(!0),f=Zt(this.generateContext(r[s]),l);u.push(f),t=cr.childNodes(l)}i.push.apply(i,Array.prototype.slice.call(t)),this.firstLastNodesList.splice(n+s,0,{first:t[0],last:t[t.length-1]})}"function"==typeof this.afterAdd?this.afterAdd({nodeOrArrayInserted:this.insertAllAfter(i,o),foreachInstance:this}):this.insertAllAfter(i,o),this.completeBinding(kn.Promise.all(u))},n.prototype.getNodesForIndex=function(e){var t=[],n=this.firstLastNodesList[e].first,r=this.firstLastNodesList[e].last;for(t.push(n);n&&n!==r;)n=n.nextSibling,t.push(n);return t},n.prototype.getLastNodeBeforeIndex=function(e){return e<1||e-1>=this.firstLastNodesList.length?null:this.firstLastNodesList[e-1].last},n.prototype.activeChildElement=function(e){var t=document.activeElement;if(S(t,e))return t},n.prototype.insertAllAfter=function(e,t){var n,r,o,i=null,u=this.$element;if(void 0===e.nodeType&&void 0===e.length)throw new Error("Expected a single node or a node array");if(void 0!==e.nodeType)return i=this.activeChildElement(e),cr.insertAfter(u,e,t),[e];if(1===e.length)i=this.activeChildElement(e[0]),cr.insertAfter(u,e[0],t);else if(Ki){for(n=document.createDocumentFragment(),o=0,r=e.length;o!==r;++o)i=i||this.activeChildElement(e[o]),n.appendChild(e[o]);cr.insertAfter(u,n,t)}else for(o=e.length-1;o>=0;--o){i=i||this.activeChildElement(e[o]);var s=e[o];if(!s)break;cr.insertAfter(u,s,t)}return i&&i.focus(),e},n.prototype.shouldDelayDeletion=function(e){return e&&("object"==typeof e||"function"==typeof e)},n.prototype.getPendingDeleteFor=function(e){var t=e&&e[zi];return void 0===t?null:this.pendingDeletes[t]},n.prototype.getOrCreatePendingDeleteFor=function(e){var t=this.getPendingDeleteFor(e);return t||(t={data:e,nodesets:[]},e[zi]=this.pendingDeletes.length,this.pendingDeletes.push(t),t)},n.prototype.deleted=function(e){this.shouldDelayDeletion(e.value)?this.getOrCreatePendingDeleteFor(e.value).nodesets.push(this.getNodesForIndex(e.index)):this.removeNodes(this.getNodesForIndex(e.index)),this.indexesToDelete.push(e.index)},n.prototype.removeNodes=function(e){function t(){for(var t=e[0].parentNode,n=e.length-1;n>=0;--n)Q(e[n]),t.removeChild(e[n])}if(e.length)if(this.beforeRemove){var n=this.beforeRemove({nodesToRemove:e,foreachInstance:this})||{};"function"==typeof n.then&&n.then(t,kn.onError)}else t()},n.prototype.flushPendingDeletes=function(){for(var e=0,t=this.pendingDeletes.length;e!==t;++e){for(var n=this.pendingDeletes[e];n.nodesets.length;)this.removeNodes(n.nodesets.pop());n.data&&void 0!==n.data[zi]&&delete n.data[zi]}this.pendingDeletes=[]},n.prototype.clearDeletedIndexes=function(){for(var e=this.indexesToDelete.length-1;e>=0;--e)this.firstLastNodesList.splice(this.indexesToDelete[e],1);this.indexesToDelete=[]},n.prototype.updateIndexes=function(e){for(var t,n=e,r=this.firstLastNodesList.length;n<r;++n)(t=this.getContextStartingFrom(this.firstLastNodesList[n].first))&&t.$index(n)},n.prototype.getContextStartingFrom=function(e){for(var t;e;){if(t=Vt(e))return t;e=e.nextSibling}},n.setSync=function(e){var t=kn.global;n.animateFrame=e?function(e){e()}:t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.msRequestAnimationFrame||function(e){return t.setTimeout(e,1e3/60)}},Object.defineProperty(n.prototype,"controlsDescendants",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(n,"allowVirtualElements",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(n,"ForEach",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(n,"PENDING_DELETE_INDEX_SYM",{get:function(){return zi},enumerable:!0,configurable:!0}),n}(Mo),Gi={foreach:qi};qi.setSync(!1);var Ji=String.prototype,Yi={};Yi.uppercase=function(e){return Ji.toUpperCase.call(Ke(e))},Yi.lowercase=function(e){return Ji.toLowerCase.call(Ke(e))},Yi.default=function(e,t){return"function"==typeof(e=Ke(e))?e:"string"==typeof e?""===Ji.trim.call(e)?t:e:null==e||0==e.length?t:e},Yi.replace=function(e,t,n){return Ji.replace.call(Ke(e),t,n)},Yi.fit=function(e,t,n,r){if(e=Ke(e),!(t&&(""+e).length>t))return e;switch(n=""+(n||"..."),t-=n.length,e=""+e,r){case"left":return n+e.slice(-t);case"middle":var o=Math.ceil(t/2);return e.substr(0,o)+n+e.slice(o-t);default:return e.substr(0,t)+n}},Yi.json=function(e,t,n){return JSON.stringify(Ye(e),n,t)},Yi.number=function(e){return(+Ke(e)).toLocaleString()};var Xi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},Zi=0,eu={component:function(e){function t(t){var n=e.call(this,t)||this;return n.originalChildNodes=c(cr.childNodes(n.$element)),n.computed("computeApplyComponent"),n}return On(t,e),t.prototype.cloneTemplateIntoElement=function(e,t,n){var r=t.template;if(!r)throw new Error("Component '"+e+"' has no template");var o=pe(r);cr.setDomNodeChildren(n,o)},t.prototype.createViewModel=function(e,t,n,r){var o=e.createViewModel;return o?o.call(e,r,{element:t,templateNodes:n}):r},t.prototype.computeApplyComponent=function(){var e,t,n=this,r=Ke(this.value);if("string"==typeof r?e=r:(e=Ke(r.name),t=Ke(r.params)),this.latestComponentName=e,!e)throw new Error("No component name specified");this.loadingOperationId=this.currentLoadingOperationId=++Zi,Ao.get(e,function(r){return n.applyComponentDefinition(e,t,r)})},t.prototype.applyComponentDefinition=function(e,t,n){var r=this;if(this.currentLoadingOperationId===this.loadingOperationId&&this.latestComponentName===e){this.cleanUpState();var o=this.$element;if(!n)throw new Error("Unknown component '"+e+"'");this.cloneTemplateIntoElement(e,n,o);var i=this.createViewModel(n,o,this.originalChildNodes,t);i instanceof fo&&i.anchorTo(this.$element);var u=this.$context.createChildContext(i,void 0,function(e){return Object.assign(e,{$component:i,$componentTemplateNodes:r.originalChildNodes})});this.currentViewModel=i,Zt(u,this.$element).then(this.completeBinding)}},t.prototype.cleanUpState=function(){var e=this.currentViewModel,t=e&&e.dispose;"function"==typeof t&&t.call(e),this.currentViewModel=null,this.currentLoadingOperationId=null},t.prototype.dispose=function(){this.cleanUpState(),e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"controlsDescendants",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(t,"allowVirtualElements",{get:function(){return!0},enumerable:!0,configurable:!0}),t}(Mo)},tu={};e(["extend","setTimeout","arrayForEach","arrayFirst","arrayFilter","arrayGetDistinctValues","arrayIndexOf","arrayMap","arrayPushAll","arrayRemoveItem","getFormFields","peekObservable","postJson","parseJson","registerEventHandler","stringifyJson","range","toggleDomNodeCssClass","triggerEvent","unwrapObservable","objectForEach","addOrRemoveItem","setTextContent","domData","parseHtmlFragment","setHtml","compareArrays","setDomNodeChildrenFromArrayMapping"],function(e){tu[e]=Fr[e]}),tu.domNodeDisposal={addDisposeCallback:H,otherNodeCleanerFunctions:Zn,removeDisposeCallback:U,removeNode:K},b(tu,{setDomNodeChildrenFromArrayMapping:rn,unwrapObservable:Ke,peekObservable:ze});var nu=new wo({globals:kn.bindingGlobals,providers:[new Io,new jo,new Co,new ao,new uo,new Fo]});return kn.bindingProviderInstance=nu,nu.bindingHandlers.set(_i),nu.bindingHandlers.set(Ri),nu.bindingHandlers.set(Ui),nu.bindingHandlers.set(Gi),nu.bindingHandlers.set({each:Gi.foreach}),nu.bindingHandlers.set(eu),Object.assign(kn.filters,Yi),{version:"4.0.0-alpha4",options:kn,extenders:wr,filters:kn.filters,Component:Ao.ComponentABC,cleanNode:Q,memoization:vr,removeNode:K,tasks:Er,utils:tu,dependencyDetection:Tr,ignoreDependencies:Tr.ignore,isObservable:Qe,isSubscribable:Ve,isWriteableObservable:qe,isWritableObservable:qe,observable:He,observableArray:Je,peek:ze,subscribable:je,unwrap:Ke,toJS:Ye,toJSON:function(e,t,n){return _(Ye(e),t,n)},computed:tt,isComputed:function(e){return F(e,tt)},isPureComputed:function(e){return F(e,tt)&&e[Vr]&&e[Vr].pure},pureComputed:ot,nativeTemplateEngine:mn,renderTemplate:vn,setTemplateEngine:fn,templateEngine:ln,templateSources:{domElement:un,anonymousTemplate:cn},applyBindingAccessorsToNode:Xt,applyBindings:en,applyBindingsToDescendants:Zt,applyBindingsToNode:function(e,t,n){var r=new Set,o=Yt(n);return Xt(e,Ut(t,o,e),o,r),kn.Promise.all(r)},bindingHandlers:nu.bindingHandlers,bindingProvider:nu,contextFor:Vt,dataFor:function(e){var t=Vt(e);return t?t.$data:void 0},getBindingHandler:Mt,BindingHandler:$o,AsyncBindingHandler:Mo,virtualElements:cr,domNodeDisposal:tu.domNodeDisposal,components:Ao}});
//# sourceMappingURL=tko.min.js.map
